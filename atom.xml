<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tong</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://tongfangyuan.github.io/"/>
  <updated>2018-07-04T13:38:21.000Z</updated>
  <id>https://tongfangyuan.github.io/</id>
  
  <author>
    <name>Tong</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>利用 Class-dump 反编译第三方ipa</title>
    <link href="https://tongfangyuan.github.io/2018/07/03/%E5%88%A9%E7%94%A8%20Class-dump%20%E5%8F%8D%E7%BC%96%E8%AF%91%E7%AC%AC%E4%B8%89%E6%96%B9ipa/"/>
    <id>https://tongfangyuan.github.io/2018/07/03/利用 Class-dump 反编译第三方ipa/</id>
    <published>2018-07-03T02:54:03.000Z</published>
    <updated>2018-07-04T13:38:21.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Class-dump"><a href="#Class-dump" class="headerlink" title="Class-dump"></a>Class-dump</h3><p>一款命令行应用程序，可以反编译出第三方ipa包的类、分类、协议。可以用来学习一些优秀app的设计和实现方式等。</p><a id="more"></a><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>本文下载的是 <strong>3.5 (64 bit)</strong> 版本的</p><p>需要 <strong>Mac OS X 10.8</strong> 或者以上</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol><li>把下载的<code>class-dump</code>(DMG解压后的文件)文件移动到<code>/usr/local/bin</code>文件夹中</li><li>赋予<code>class-dump</code>文件<code>777</code>权限后就可以开始使用了</li></ol><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod <span class="number">777</span> <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span><span class="keyword">class</span>-<span class="keyword">dump</span></span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>安装完成后再终端输入<code>class-dump --help</code>可以查看用法<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class-dump 3.5 (64 bit)</span><br><span class="line">Usage: class-dump [options] &lt;mach-o-file&gt;</span><br><span class="line"></span><br><span class="line">  where options are:</span><br><span class="line">        -<span class="ruby">a             show instance variable offsets</span></span><br><span class="line"><span class="ruby">        -A             show implementation addresses</span></span><br><span class="line"><span class="ruby">        --arch &lt;arch&gt;  choose a specific architecture from a universal binary (ppc, ppc64, i386, x86_64)</span></span><br><span class="line"><span class="ruby">        -C &lt;regex&gt;     only display classes matching regular expression</span></span><br><span class="line"><span class="ruby">        -f &lt;str&gt;       find string <span class="keyword">in</span> method name</span></span><br><span class="line"><span class="ruby">        -H             generate header files <span class="keyword">in</span> current directory, <span class="keyword">or</span> directory specified with -o</span></span><br><span class="line"><span class="ruby">        -I             sort classes, categories, <span class="keyword">and</span> protocols by inheritance (overrides -s)</span></span><br><span class="line"><span class="ruby">        -o &lt;dir&gt;       output directory used <span class="keyword">for</span> -H</span></span><br><span class="line"><span class="ruby">        -r             recursively expand frameworks <span class="keyword">and</span> fixed VM shared libraries</span></span><br><span class="line"><span class="ruby">        -s             sort classes <span class="keyword">and</span> categories by name</span></span><br><span class="line"><span class="ruby">        -S             sort methods by name</span></span><br><span class="line"><span class="ruby">        -t             suppress header <span class="keyword">in</span> output, <span class="keyword">for</span> testing</span></span><br><span class="line"><span class="ruby">        --list-arches  list the arches <span class="keyword">in</span> the file, <span class="keyword">then</span> exit</span></span><br><span class="line"><span class="ruby">        --sdk-ios      specify iOS SDK version (will look <span class="keyword">in</span> /Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS&lt;version&gt;.sdk</span></span><br><span class="line"><span class="ruby">        --sdk-mac      specify Mac OS X version (will look <span class="keyword">in</span> /Developer/SDKs/MacOSX&lt;version&gt;.sdk</span></span><br><span class="line"><span class="ruby">        --sdk-root     specify the full SDK root path (<span class="keyword">or</span> use --sdk-ios/--sdk-mac <span class="keyword">for</span> a shortcut)</span></span><br></pre></td></tr></table></figure></p><h4 id="反编译出ipa包中的头文件信息"><a href="#反编译出ipa包中的头文件信息" class="headerlink" title="反编译出ipa包中的头文件信息"></a>反编译出<code>ipa</code>包中的头文件信息</h4><p>本文以微信读书<code>ipa</code>书为例，越狱ipa可以在某助手下载，也可以自己砸壳</p><h5 id="解压ipa包，得到解压后的文件"><a href="#解压ipa包，得到解压后的文件" class="headerlink" title="解压ipa包，得到解压后的文件"></a>解压<code>ipa</code>包，得到解压后的文件</h5><p><img src="http://ww1.sinaimg.cn/mw690/82d0ef27gy1fs3qtyise8j20he04udh1.jpg" alt=""></p><h5 id="解压后得到的文件"><a href="#解压后得到的文件" class="headerlink" title="解压后得到的文件"></a>解压后得到的文件</h5><p><img src="http://ww1.sinaimg.cn/mw690/82d0ef27gy1fs3qrx8ng7j207f03x0t4.jpg" alt="解压后得到文件"></p><h5 id="运行命令反编译出头文件"><a href="#运行命令反编译出头文件" class="headerlink" title="运行命令反编译出头文件"></a>运行命令反编译出头文件</h5><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span>-<span class="keyword">dump</span> -H <span class="regexp">/Users/</span>admin<span class="regexp">/Desktop/</span>微信读书-<span class="number">2.4</span>.<span class="number">6</span>\(越狱应用\)\ <span class="number">2</span><span class="regexp">/Payload/</span>WeRead.app -o <span class="regexp">/Users/</span>admin<span class="regexp">/Desktop/</span>微信读书-<span class="number">2.4</span>.<span class="number">6</span>\(越狱应用\)\ <span class="number">2</span><span class="regexp">/Payload</span></span><br></pre></td></tr></table></figure><p><img src="http://ww1.sinaimg.cn/mw690/82d0ef27gy1fs3qxlizlfj20pd0d6wi9.jpg" alt=""></p><p>以上就完成了ipa包的反编译，方便学习大厂代码</p><h3 id="相关的资料"><a href="#相关的资料" class="headerlink" title="相关的资料"></a>相关的资料</h3><ul><li><a href="https://github.com/nygard/class-dump" target="_blank" rel="noopener">在github查看项目</a></li><li><a href="http://stevenygard.com/" target="_blank" rel="noopener">作者 Steve Nygard 博客</a></li><li><a href="http://stevenygard.com/projects/class-dump/" target="_blank" rel="noopener">工具更新日志</a></li><li><a href="https://www.jianshu.com/p/1e3fe0a8c048" target="_blank" rel="noopener">安装教程</a></li><li><a href="http://stevenygard.com/projects/class-dump/" target="_blank" rel="noopener">下载地址</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Class-dump&quot;&gt;&lt;a href=&quot;#Class-dump&quot; class=&quot;headerlink&quot; title=&quot;Class-dump&quot;&gt;&lt;/a&gt;Class-dump&lt;/h3&gt;&lt;p&gt;一款命令行应用程序，可以反编译出第三方ipa包的类、分类、协议。可以用来学习一些优秀app的设计和实现方式等。&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://tongfangyuan.github.io/categories/iOS/"/>
    
    
      <category term="逆向" scheme="https://tongfangyuan.github.io/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>资料整理集合</title>
    <link href="https://tongfangyuan.github.io/2018/06/28/%E8%B5%84%E6%96%99%E6%95%B4%E7%90%86%E9%9B%86%E5%90%88/"/>
    <id>https://tongfangyuan.github.io/2018/06/28/资料整理集合/</id>
    <published>2018-06-28T12:54:10.000Z</published>
    <updated>2018-07-07T03:28:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>一些可能会用到的资料整理集合</p><a id="more"></a><h3 id="设计类"><a href="#设计类" class="headerlink" title="设计类"></a>设计类</h3><ul><li><a href="http://nipponcolors.com/#cyohsyun" target="_blank" rel="noopener">一个非常棒的日本配色网站</a></li><li><a href="https://pbs.twimg.com/media/AuiY8ThCIAIyKxh.png:large" target="_blank" rel="noopener">一个好看的配色方案</a></li><li><a href="https://www.25xt.com/appdesign/15067.html" target="_blank" rel="noopener">五套舒适的配色方案</a></li></ul><h3 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h3><ul><li><a href="http://www.axuer.com/article/32" target="_blank" rel="noopener">9款ios开发者辅助工具</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一些可能会用到的资料整理集合&lt;/p&gt;
    
    </summary>
    
      <category term="资料" scheme="https://tongfangyuan.github.io/categories/%E8%B5%84%E6%96%99/"/>
    
    
      <category term="资料" scheme="https://tongfangyuan.github.io/tags/%E8%B5%84%E6%96%99/"/>
    
  </entry>
  
  <entry>
    <title>关于夜间模式功能实践的一次记录</title>
    <link href="https://tongfangyuan.github.io/2018/06/26/%E5%85%B3%E4%BA%8E%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F%E5%8A%9F%E8%83%BD%E5%AE%9E%E8%B7%B5%E7%9A%84%E4%B8%80%E6%AC%A1%E8%AE%B0%E5%BD%95/"/>
    <id>https://tongfangyuan.github.io/2018/06/26/关于夜间模式功能实践的一次记录/</id>
    <published>2018-06-26T03:26:16.000Z</published>
    <updated>2018-06-26T13:28:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近完成app小版本迭代，在论坛看见某个求职贴写着<code>熟练使用Method Swizzling技能</code>，想起15年有阵各种关于<code>iOS黑科技</code>技术贴满天飞，自己也看了些，但是好像实际开发中也确实用的很少（可能确实比较菜🤣）。于是趁着这阵不忙实践一下，第一个就想到夜间模式这个功能用<code>Method Swizzling</code>实现比较合适，相信也是很多开发者第一选择吧，写了个简单demo后发现确实省事儿。</p><h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><h3 id="动图"><a href="#动图" class="headerlink" title="动图"></a>动图</h3><p><img src="http://ww1.sinaimg.cn/large/82d0ef27gy1fsof1ijtxug20d50nc1kx.gif" alt="image"></p><a id="more"></a><h3 id="常用的视图控件继承关系图"><a href="#常用的视图控件继承关系图" class="headerlink" title="常用的视图控件继承关系图"></a>常用的视图控件继承关系图</h3><p><img src="http://ww1.sinaimg.cn/large/82d0ef27gy1fsnh3jayygj21ek174477.jpg" alt="image"></p><h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><p>本文关于夜间模式功能的实现用到了<code>Category</code>、<code>Method Swizzling</code>、<code>Notification</code>三个特性，具体步骤大致是新建<code>UIView</code>分类，重载<code>+(void)load</code>方法，在重载方法里面替换掉<code>UIView</code>两个实例化方法（<code>initWithFrame:</code>、<code>initWithCoder:</code>)的，添加接收夜间模式开关的通知，收到通知后根据具体类更新各自UI。</p><h3 id="在重载方法load中替换UIView两个实例化方法"><a href="#在重载方法load中替换UIView两个实例化方法" class="headerlink" title="在重载方法load中替换UIView两个实例化方法"></a>在重载方法<code>load</code>中替换<code>UIView</code>两个实例化方法</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)load &#123;</span><br><span class="line">    [<span class="keyword">super</span> load];</span><br><span class="line">    [<span class="keyword">self</span> exchangeMethods];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="利用Method-Swizzling替换实现"><a href="#利用Method-Swizzling替换实现" class="headerlink" title="利用Method Swizzling替换实现"></a>利用<code>Method Swizzling</code>替换实现</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)exchangeInitWithCoderMethod &#123;</span><br><span class="line">    Class <span class="keyword">class</span> = [<span class="keyword">self</span> <span class="keyword">class</span>];</span><br><span class="line">    </span><br><span class="line">    SEL originalSelector = <span class="keyword">@selector</span>(initWithCoder:);</span><br><span class="line">    SEL swizzledSelector = <span class="keyword">@selector</span>(nm_initWithCoder:);</span><br><span class="line">    </span><br><span class="line">    Method originalMethod = class_getInstanceMethod(<span class="keyword">class</span>, originalSelector);</span><br><span class="line">    Method swizzledMethod = class_getInstanceMethod(<span class="keyword">class</span>, swizzledSelector);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">BOOL</span> didAddMethod = class_addMethod(<span class="keyword">class</span>, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod));</span><br><span class="line">    <span class="keyword">if</span> (didAddMethod) &#123;</span><br><span class="line">        class_replaceMethod(<span class="keyword">class</span>, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        method_exchangeImplementations(originalMethod, swizzledMethod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">void</span>)exchangeInitWithFrameMethod &#123;</span><br><span class="line">    Class <span class="keyword">class</span> = [<span class="keyword">self</span> <span class="keyword">class</span>];</span><br><span class="line">    </span><br><span class="line">    SEL originalSelector = <span class="keyword">@selector</span>(initWithFrame:);</span><br><span class="line">    SEL swizzledSelector = <span class="keyword">@selector</span>(nm_initWithFrame:);</span><br><span class="line">    </span><br><span class="line">    Method originalMethod = class_getInstanceMethod(<span class="keyword">class</span>, originalSelector);</span><br><span class="line">    Method swizzledMethod = class_getInstanceMethod(<span class="keyword">class</span>, swizzledSelector);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">BOOL</span> didAddMethod = class_addMethod(<span class="keyword">class</span>, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod));</span><br><span class="line">    <span class="keyword">if</span> (didAddMethod) &#123;</span><br><span class="line">        class_replaceMethod(<span class="keyword">class</span>, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        method_exchangeImplementations(originalMethod, swizzledMethod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="在替换方法中注册接收夜间模式开关状态的通知"><a href="#在替换方法中注册接收夜间模式开关状态的通知" class="headerlink" title="在替换方法中注册接收夜间模式开关状态的通知"></a>在替换方法中注册接收夜间模式开关状态的通知</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">instancetype</span>)nm_initWithCoder:(<span class="built_in">NSCoder</span> *)coder&#123;</span><br><span class="line">    </span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] removeObserver:<span class="keyword">self</span> name:NightModeChangeNotificationKey object:<span class="literal">nil</span>];</span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(nm_updateNightModeStatusNotification:) name:NightModeChangeNotificationKey object:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> [<span class="keyword">self</span> nm_initWithCoder:coder];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)nm_initWithFrame:(<span class="built_in">CGRect</span>)frame &#123;</span><br><span class="line">    </span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] removeObserver:<span class="keyword">self</span> name:NightModeChangeNotificationKey object:<span class="literal">nil</span>];</span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(nm_updateNightModeStatusNotification:) name:NightModeChangeNotificationKey object:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> [<span class="keyword">self</span> nm_initWithFrame:frame];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="外部发送通知，视图自动更新对应状态的UI"><a href="#外部发送通知，视图自动更新对应状态的UI" class="headerlink" title="外部发送通知，视图自动更新对应状态的UI"></a>外部发送通知，视图自动更新对应状态的UI</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">IBAction</span>)lightSwitchAction:(<span class="built_in">UISwitch</span> *)sender &#123;</span><br><span class="line">    </span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] postNotificationName:NightModeChangeNotificationKey object:[<span class="built_in">NSNumber</span> numberWithInteger:sender.isOn]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>实现起来不是很难，<code>Method Swizzling</code>实现类似需求确实有奇效，不过具体项目中还没使用过，有什么坑也就不清楚了，看了关于<code>Method Swizzling</code>几篇文章，褒贬不一。个人认为这类黑科技的使用看具体情况吧，团队开发中肯定是要避免滥用的（不要只是为了秀）,其他就不发表看法了，毕竟没资质🤣。</p><p>其实，关于<code>Method Swizzling</code>的那段代码我是<code>copy</code>的，后面如果有使用这项技术，我还是会回来<code>copy</code>下，毕竟不常用🤣。</p><h2 id="相关资源"><a href="#相关资源" class="headerlink" title="相关资源"></a>相关资源</h2><ul><li><a href="https://github.com/TongFangyuan/Demos/tree/master/demo1" target="_blank" rel="noopener">本文Demo</a></li><li><a href="http://blog.leichunfeng.com/blog/2015/06/14/objective-c-method-swizzling-best-practice/" target="_blank" rel="noopener">Objective-C Method Swizzling 的最佳实践</a></li><li><a href="http://nshipster.cn/method-swizzling/" target="_blank" rel="noopener">Method Swizzling</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;最近完成app小版本迭代，在论坛看见某个求职贴写着&lt;code&gt;熟练使用Method Swizzling技能&lt;/code&gt;，想起15年有阵各种关于&lt;code&gt;iOS黑科技&lt;/code&gt;技术贴满天飞，自己也看了些，但是好像实际开发中也确实用的很少（可能确实比较菜🤣）。于是趁着这阵不忙实践一下，第一个就想到夜间模式这个功能用&lt;code&gt;Method Swizzling&lt;/code&gt;实现比较合适，相信也是很多开发者第一选择吧，写了个简单demo后发现确实省事儿。&lt;/p&gt;
&lt;h2 id=&quot;效果图&quot;&gt;&lt;a href=&quot;#效果图&quot; class=&quot;headerlink&quot; title=&quot;效果图&quot;&gt;&lt;/a&gt;效果图&lt;/h2&gt;&lt;h3 id=&quot;动图&quot;&gt;&lt;a href=&quot;#动图&quot; class=&quot;headerlink&quot; title=&quot;动图&quot;&gt;&lt;/a&gt;动图&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://ww1.sinaimg.cn/large/82d0ef27gy1fsof1ijtxug20d50nc1kx.gif&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://tongfangyuan.github.io/categories/iOS/"/>
    
    
      <category term="笔记" scheme="https://tongfangyuan.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>iOS 开发笔记（三）</title>
    <link href="https://tongfangyuan.github.io/2018/06/12/iOS%20%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/"/>
    <id>https://tongfangyuan.github.io/2018/06/12/iOS 开发笔记（三）/</id>
    <published>2018-06-12T02:31:59.000Z</published>
    <updated>2018-07-04T13:38:21.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="UITableViewCell-左滑删除功能"><a href="#UITableViewCell-左滑删除功能" class="headerlink" title="UITableViewCell 左滑删除功能"></a>UITableViewCell 左滑删除功能</h3><h4 id="开启编辑模式"><a href="#开启编辑模式" class="headerlink" title="开启编辑模式"></a>开启编辑模式</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)tableView:(<span class="built_in">UITableView</span> *)tableView canEditRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UITableViewCellEditingStyle</span>)tableView:(<span class="built_in">UITableView</span> *)tableView editingStyleForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">UITableViewCellEditingStyleDelete</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="删除按钮标题"><a href="#删除按钮标题" class="headerlink" title="删除按钮标题"></a>删除按钮标题</h4><p>UITableViewCellEditingStyleDelete默认就是删除，可以不用实现该方法<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView titleForDeleteConfirmationButtonForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"删除"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="事件提交"><a href="#事件提交" class="headerlink" title="事件提交"></a>事件提交</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView commitEditingStyle:(<span class="built_in">UITableViewCellEditingStyle</span>)editingStyle forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    [<span class="keyword">self</span> fy_showTitle:<span class="string">@"是否删除"</span> message:<span class="literal">nil</span> confirmHandler:^&#123;</span><br><span class="line">        AylaShare *share = _shares[indexPath.row];</span><br><span class="line">        [<span class="keyword">self</span> deleteShare:share];</span><br><span class="line">    &#125; cancelHandler:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h4 id="退出键盘"><a href="#退出键盘" class="headerlink" title="退出键盘"></a>退出键盘</h4><p>在<code>viewWillDisappear:</code>中调用有奇效<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.view endEditing:<span class="literal">YES</span>];</span><br></pre></td></tr></table></figure></p><h4 id="联网时显示导航栏的菊花"><a href="#联网时显示导航栏的菊花" class="headerlink" title="联网时显示导航栏的菊花"></a>联网时显示导航栏的菊花</h4><p>优化用户体验<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="built_in">UIApplication</span> sharedApplication].networkActivityIndicatorVisible = <span class="literal">YES</span>;</span><br></pre></td></tr></table></figure></p><h4 id="获取UIView的所有子类"><a href="#获取UIView的所有子类" class="headerlink" title="获取UIView的所有子类"></a>获取<code>UIView</code>的所有子类</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Class * classes = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">int</span> numClasses = objc_getClassList(<span class="literal">NULL</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (numClasses &gt; <span class="number">0</span> )</span><br><span class="line">&#123;</span><br><span class="line">    classes = malloc(<span class="keyword">sizeof</span>(Class) * numClasses);</span><br><span class="line">    numClasses = objc_getClassList(classes, numClasses);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numClasses; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span> (class_getSuperclass(classes[i]) == [<span class="built_in">UIView</span> <span class="keyword">class</span>])&#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, <span class="built_in">NSStringFromClass</span>(classes[i]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    free(classes);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>#### </p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;UITableViewCell-左滑删除功能&quot;&gt;&lt;a href=&quot;#UITableViewCell-左滑删除功能&quot; class=&quot;headerlink&quot; title=&quot;UITableViewCell 左滑删除功能&quot;&gt;&lt;/a&gt;UITableViewCell 左滑删除功能&lt;/h3&gt;&lt;h4 id=&quot;开启编辑模式&quot;&gt;&lt;a href=&quot;#开启编辑模式&quot; class=&quot;headerlink&quot; title=&quot;开启编辑模式&quot;&gt;&lt;/a&gt;开启编辑模式&lt;/h4&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)tableView:(&lt;span class=&quot;built_in&quot;&gt;UITableView&lt;/span&gt; *)tableView canEditRowAtIndexPath:(&lt;span class=&quot;built_in&quot;&gt;NSIndexPath&lt;/span&gt; *)indexPath &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;事件类型&quot;&gt;&lt;a href=&quot;#事件类型&quot; class=&quot;headerlink&quot; title=&quot;事件类型&quot;&gt;&lt;/a&gt;事件类型&lt;/h4&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;UITableViewCellEditingStyle&lt;/span&gt;)tableView:(&lt;span class=&quot;built_in&quot;&gt;UITableView&lt;/span&gt; *)tableView editingStyleForRowAtIndexPath:(&lt;span class=&quot;built_in&quot;&gt;NSIndexPath&lt;/span&gt; *)indexPath&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;UITableViewCellEditingStyleDelete&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;删除按钮标题&quot;&gt;&lt;a href=&quot;#删除按钮标题&quot; class=&quot;headerlink&quot; title=&quot;删除按钮标题&quot;&gt;&lt;/a&gt;删除按钮标题&lt;/h4&gt;&lt;p&gt;UITableViewCellEditingStyleDelete默认就是删除，可以不用实现该方法&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)tableView:(&lt;span class=&quot;built_in&quot;&gt;UITableView&lt;/span&gt; *)tableView titleForDeleteConfirmationButtonForRowAtIndexPath:(&lt;span class=&quot;built_in&quot;&gt;NSIndexPath&lt;/span&gt; *)indexPath&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;@&quot;删除&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;事件提交&quot;&gt;&lt;a href=&quot;#事件提交&quot; class=&quot;headerlink&quot; title=&quot;事件提交&quot;&gt;&lt;/a&gt;事件提交&lt;/h4&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)tableView:(&lt;span class=&quot;built_in&quot;&gt;UITableView&lt;/span&gt; *)tableView commitEditingStyle:(&lt;span class=&quot;built_in&quot;&gt;UITableViewCellEditingStyle&lt;/span&gt;)editingStyle forRowAtIndexPath:(&lt;span class=&quot;built_in&quot;&gt;NSIndexPath&lt;/span&gt; *)indexPath&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; fy_showTitle:&lt;span class=&quot;string&quot;&gt;@&quot;是否删除&quot;&lt;/span&gt; message:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; confirmHandler:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        AylaShare *share = _shares[indexPath.row];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; deleteShare:share];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; cancelHandler:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://tongfangyuan.github.io/categories/iOS/"/>
    
    
      <category term="笔记" scheme="https://tongfangyuan.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>iOS 开发笔记（二）</title>
    <link href="https://tongfangyuan.github.io/2018/06/07/iOS%20%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>https://tongfangyuan.github.io/2018/06/07/iOS 开发笔记（二）/</id>
    <published>2018-06-07T14:20:17.000Z</published>
    <updated>2018-06-26T13:00:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>工作不常用但可能需要<code>google</code>的一些知识，整理总结一下，方便以后查找，本文收集的有4点：获取系统当前音量、<code>NSLog</code>宏定义、修改app语言、获取app基础信息。</p><a id="more"></a><h4 id="获取系统音量-iOS6以上可用"><a href="#获取系统音量-iOS6以上可用" class="headerlink" title="获取系统音量(iOS6以上可用)"></a>获取系统音量(iOS6以上可用)</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">AVAudioSession</span> sharedInstance] outputVolume]</span><br></pre></td></tr></table></figure><h4 id="NSLog宏"><a href="#NSLog宏" class="headerlink" title="NSLog宏"></a>NSLog宏</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#ifdef DEBUG</span></span><br><span class="line"><span class="meta">#define NSLog(format, ...) do &#123;                                             \</span></span><br><span class="line">fprintf(stderr, <span class="string">"&lt;%s : %d&gt; %s\n"</span>,                                           \</span><br><span class="line">[[[<span class="built_in">NSString</span> stringWithUTF8String:__FILE__] lastPathComponent] UTF8String],  \</span><br><span class="line">__LINE__, __func__);                                                        \</span><br><span class="line">(<span class="built_in">NSLog</span>)((format), <span class="meta">##__VA_ARGS__);                                           \</span></span><br><span class="line">fprintf(stderr, <span class="string">"-------\n"</span>);                                               \</span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="number">0</span>)</span><br><span class="line"><span class="meta">#endif</span></span><br></pre></td></tr></table></figure><h4 id="修改应用语言为中文"><a href="#修改应用语言为中文" class="headerlink" title="修改应用语言为中文"></a>修改应用语言为中文</h4><ol><li>选中项目</li><li>选择<code>target</code></li><li><code>info</code>-&gt;<code>Localization native development region</code>-&gt;打开下拉选项卡选择<code>china</code></li></ol><p><img src="http://ww1.sinaimg.cn/large/82d0ef27gy1frujk3cwx8j20t50d8784.jpg"></p><h4 id="使用block回调方式接收通知"><a href="#使用block回调方式接收通知" class="headerlink" title="使用block回调方式接收通知"></a>使用<code>block</code>回调方式接收通知</h4><p>block回调会retain系统，需要注意循环引用<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">__<span class="keyword">weak</span> <span class="keyword">typeof</span>(<span class="keyword">self</span>) weakSelf = <span class="keyword">self</span>;</span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserverForName:<span class="built_in">UITextFieldTextDidChangeNotification</span> object:<span class="keyword">self</span>.userTextField queue:[<span class="built_in">NSOperationQueue</span> mainQueue] usingBlock:^(<span class="built_in">NSNotification</span> * _Nonnull note) &#123;</span><br><span class="line">        <span class="built_in">UITextField</span> *textField = note.object;</span><br><span class="line">        <span class="keyword">if</span> (textField.text.length) &#123;</span><br><span class="line">            [weakSelf.doneButton setTitleColor:[<span class="built_in">UIColor</span> blackColor] forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">            [weakSelf.doneButton setUserInteractionEnabled:<span class="literal">YES</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            [weakSelf.doneButton setTitleColor:[<span class="built_in">UIColor</span> lightGrayColor] forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">            [weakSelf.doneButton setUserInteractionEnabled:<span class="literal">NO</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br></pre></td></tr></table></figure></p><h4 id="获取app信息"><a href="#获取app信息" class="headerlink" title="获取app信息"></a>获取<code>app</code>信息</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app 信息字典</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *infoDictionary = [[<span class="built_in">NSBundle</span> mainBundle] infoDictionary];</span><br><span class="line"><span class="comment">// app名称  </span></span><br><span class="line"><span class="built_in">NSString</span> *app_Name = [infoDictionary objectForKey:<span class="string">@"CFBundleDisplayName"</span>]; </span><br><span class="line"><span class="comment">// app版本  </span></span><br><span class="line"><span class="built_in">NSString</span> *app_Version = [infoDictionary objectForKey:<span class="string">@"CFBundleShortVersionString"</span>];  </span><br><span class="line"><span class="comment">// app build版本  </span></span><br><span class="line"><span class="built_in">NSString</span> *app_build = [infoDictionary objectForKey:<span class="string">@"CFBundleVersion"</span>]; </span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,infoDictionary);</span><br></pre></td></tr></table></figure><p>控制台输出<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    <span class="keyword">BuildMachineOSBuild </span>= <span class="number">17</span>C88<span class="comment">;</span></span><br><span class="line">    CFBundleDevelopmentRegion = <span class="string">"zh_CN"</span><span class="comment">;</span></span><br><span class="line">    CFBundleDisplayName = <span class="string">"app名称"</span><span class="comment">;</span></span><br><span class="line">    CFBundleDocumentTypes =     (</span><br><span class="line">                &#123;</span><br><span class="line">            CFBundleTypeIconFiles =             (</span><br><span class="line">                <span class="string">"Icon-Small.png"</span>,</span><br><span class="line">                <span class="string">"Icon.png"</span></span><br><span class="line">            )<span class="comment">;</span></span><br><span class="line">            CFBundleTypeName = <span class="string">"Aura Config"</span><span class="comment">;</span></span><br><span class="line">            CFBundleTypeRole = Viewer<span class="comment">;</span></span><br><span class="line">            LSHandlerRank = Owner<span class="comment">;</span></span><br><span class="line">            LSItemContentTypes =             (</span><br><span class="line">                <span class="string">"com.aylanetworks.auraconfig"</span></span><br><span class="line">            )<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    CFBundleExecutable = Aura<span class="comment">;</span></span><br><span class="line">    CFBundleIcons =     &#123;</span><br><span class="line">        CFBundlePrimaryIcon =         &#123;</span><br><span class="line">            CFBundleIconFiles =             (</span><br><span class="line">                AppIcon29x29,</span><br><span class="line">                AppIcon4<span class="number">0x40</span>,</span><br><span class="line">                AppIcon6<span class="number">0x60</span></span><br><span class="line">            )<span class="comment">;</span></span><br><span class="line">            CFBundleIconName = AppIcon<span class="comment">;</span></span><br><span class="line">            UIPrerenderedIcon = <span class="number">1</span><span class="comment">;</span></span><br><span class="line">        &#125;<span class="comment">;</span></span><br><span class="line">    &#125;<span class="comment">;</span></span><br><span class="line">    CFBundleIdentifier = <span class="string">"bundle identifier"</span><span class="comment">;</span></span><br><span class="line">    CFBundleInfoDictionaryVersion = <span class="string">"6.0"</span><span class="comment">;</span></span><br><span class="line">    CFBundleName = Aura<span class="comment">;</span></span><br><span class="line">    CFBundleNumericVersion = <span class="number">50364416</span><span class="comment">;</span></span><br><span class="line">    CFBundlePackageType = APPL<span class="comment">;</span></span><br><span class="line">    CFBundleShortVersionString = <span class="string">"1.0"</span><span class="comment">;</span></span><br><span class="line">    CFBundleSignature = <span class="string">"????"</span><span class="comment">;</span></span><br><span class="line">    CFBundleSupportedPlatforms =     (</span><br><span class="line">        iPhoneOS</span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    CFBundleURLTypes =     (</span><br><span class="line">                &#123;</span><br><span class="line">            CFBundleTypeRole = Editor<span class="comment">;</span></span><br><span class="line">            CFBundleURLSchemes =             (</span><br><span class="line">                aylacontrol,</span><br><span class="line">                AgileLink,</span><br><span class="line">                AylaSmartPlug,</span><br><span class="line">                auracontrol</span><br><span class="line">            )<span class="comment">;</span></span><br><span class="line">        &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">            CFBundleTypeRole = Editor<span class="comment">;</span></span><br><span class="line">            CFBundleURLSchemes =             (</span><br><span class="line">                <span class="string">"com.googleusercontent.apps.654054971787-coh52to0m9qta3aoj0sjg224c5t4vg0r"</span></span><br><span class="line">            )<span class="comment">;</span></span><br><span class="line">        &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">            CFBundleTypeRole = Editor<span class="comment">;</span></span><br><span class="line">            CFBundleURLSchemes =             (</span><br><span class="line">                <span class="string">"AylaNetworks.iOS-Aura"</span></span><br><span class="line">            )<span class="comment">;</span></span><br><span class="line">        &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">            CFBundleTypeRole = Editor<span class="comment">;</span></span><br><span class="line">            CFBundleURLSchemes =             (</span><br><span class="line">                wxe450e4ee1187148c</span><br><span class="line">            )<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    CFBundleVersion = <span class="number">3</span><span class="comment">;</span></span><br><span class="line">    DTCompiler = <span class="string">"com.apple.compilers.llvm.clang.1_0"</span><span class="comment">;</span></span><br><span class="line">    DTPlatformBuild = <span class="number">15</span>C107<span class="comment">;</span></span><br><span class="line">    DTPlatformName = iphoneos<span class="comment">;</span></span><br><span class="line">    DTPlatformVersion = <span class="string">"11.2"</span><span class="comment">;</span></span><br><span class="line">    DTSDKBuild = <span class="number">15</span>C107<span class="comment">;</span></span><br><span class="line">    DTSDKName = <span class="string">"iphoneos11.2"</span><span class="comment">;</span></span><br><span class="line">    DTXcode = <span class="number">0920</span><span class="comment">;</span></span><br><span class="line">    DTXcodeBuild = <span class="number">9</span>C<span class="number">40b</span><span class="comment">;</span></span><br><span class="line">    ITSAppUsesNonExemptEncryption = <span class="number">0</span><span class="comment">;</span></span><br><span class="line">    LSApplicationQueriesSchemes =     (</span><br><span class="line">        weixin</span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    LSRequiresIPhoneOS = <span class="number">1</span><span class="comment">;</span></span><br><span class="line">    MinimumOSVersion = <span class="string">"9.0"</span><span class="comment">;</span></span><br><span class="line">    NSAppTransportSecurity =     &#123;</span><br><span class="line">        NSAllowsArbitraryLoads = <span class="number">1</span><span class="comment">;</span></span><br><span class="line">        NSAllowsLocalNetworking = <span class="number">1</span><span class="comment">;</span></span><br><span class="line">    &#125;<span class="comment">;</span></span><br><span class="line">    NSBluetoothPeripheralUsageDescription = <span class="string">"Aura is requesting access to Bluetooth to manage nearby compatible devices."</span><span class="comment">;</span></span><br><span class="line">    NSCameraUsageDescription = <span class="string">"Aura would like to use your camera to scan the QR Code."</span><span class="comment">;</span></span><br><span class="line">    NSLocationWhenInUseUsageDescription = <span class="string">"Aura would like to use your location to fill the coordinates. Please allow the app to use your device's location services."</span><span class="comment">;</span></span><br><span class="line">    UIAppFonts =     (</span><br><span class="line">        <span class="string">"HelveticaNeue.ttc"</span></span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    UIDeviceFamily =     (</span><br><span class="line">        <span class="number">1</span></span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    UILaunchImages =     (</span><br><span class="line">                &#123;</span><br><span class="line">            UILaunchImageMinimumOSVersion = <span class="string">"11.0"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageName = <span class="string">"LaunchImage-1100-Portrait-2436h"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageOrientation = Portrait<span class="comment">;</span></span><br><span class="line">            UILaunchImageSize = <span class="string">"&#123;375, 812&#125;"</span><span class="comment">;</span></span><br><span class="line">        &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">            UILaunchImageMinimumOSVersion = <span class="string">"8.0"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageName = <span class="string">"LaunchImage-800-Portrait-736h"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageOrientation = Portrait<span class="comment">;</span></span><br><span class="line">            UILaunchImageSize = <span class="string">"&#123;414, 736&#125;"</span><span class="comment">;</span></span><br><span class="line">        &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">            UILaunchImageMinimumOSVersion = <span class="string">"8.0"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageName = <span class="string">"LaunchImage-800-667h"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageOrientation = Portrait<span class="comment">;</span></span><br><span class="line">            UILaunchImageSize = <span class="string">"&#123;375, 667&#125;"</span><span class="comment">;</span></span><br><span class="line">        &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">            UILaunchImageMinimumOSVersion = <span class="string">"7.0"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageName = <span class="string">"LaunchImage-700"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageOrientation = Portrait<span class="comment">;</span></span><br><span class="line">            UILaunchImageSize = <span class="string">"&#123;320, 480&#125;"</span><span class="comment">;</span></span><br><span class="line">        &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">            UILaunchImageMinimumOSVersion = <span class="string">"7.0"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageName = <span class="string">"LaunchImage-700-568h"</span><span class="comment">;</span></span><br><span class="line">            UILaunchImageOrientation = Portrait<span class="comment">;</span></span><br><span class="line">            UILaunchImageSize = <span class="string">"&#123;320, 568&#125;"</span><span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    UIMainStoryboardFile = Login<span class="comment">;</span></span><br><span class="line">    UIRequiredDeviceCapabilities =     (</span><br><span class="line">        arm64</span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    UISupportedInterfaceOrientations =     (</span><br><span class="line">        UIInterfaceOrientationPortrait</span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">    UTExportedTypeDeclarations =     (</span><br><span class="line">                &#123;</span><br><span class="line">            UTTypeConformsTo =             (</span><br><span class="line">                <span class="string">"public.data"</span></span><br><span class="line">            )<span class="comment">;</span></span><br><span class="line">            UTTypeDescription = <span class="string">"Aura Config File"</span><span class="comment">;</span></span><br><span class="line">            UTTypeIdentifier = <span class="string">"com.aylanetworks.auraconfig"</span><span class="comment">;</span></span><br><span class="line">            UTTypeTagSpecification =             &#123;</span><br><span class="line">                <span class="string">"public.filename-extension"</span> = auraconfig<span class="comment">;</span></span><br><span class="line">                <span class="string">"public.mime-type"</span> = <span class="string">"application/json"</span><span class="comment">;</span></span><br><span class="line">            &#125;<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">    )<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;工作不常用但可能需要&lt;code&gt;google&lt;/code&gt;的一些知识，整理总结一下，方便以后查找，本文收集的有4点：获取系统当前音量、&lt;code&gt;NSLog&lt;/code&gt;宏定义、修改app语言、获取app基础信息。&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://tongfangyuan.github.io/categories/iOS/"/>
    
    
      <category term="笔记" scheme="https://tongfangyuan.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>初学前端CSS之a标签使用总结</title>
    <link href="https://tongfangyuan.github.io/2018/05/17/%E5%88%9D%E5%AD%A6%E5%89%8D%E7%AB%AF%E4%B9%8BCSS%E5%B0%8F%E8%AE%B0%E4%BA%8C/"/>
    <id>https://tongfangyuan.github.io/2018/05/17/初学前端之CSS小记二/</id>
    <published>2018-05-17T02:32:50.000Z</published>
    <updated>2018-06-07T13:08:01.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="去掉下划线"><a href="#去掉下划线" class="headerlink" title="去掉下划线"></a>去掉下划线</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;<span class="attribute">text-decoration</span>:none;&#125;</span><br></pre></td></tr></table></figure><h3 id="设置每种状态下的属性"><a href="#设置每种状态下的属性" class="headerlink" title="设置每种状态下的属性"></a>设置每种状态下的属性</h3><p>链接未访问</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span>&#123;<span class="attribute">color</span>:red&#125;</span><br></pre></td></tr></table></figure><p>链接已访问</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;<span class="attribute">color</span>:blue&#125;</span><br></pre></td></tr></table></figure><p>获得焦点时</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span>&#123;<span class="attribute">color</span>:white&#125;</span><br></pre></td></tr></table></figure><p>鼠标移动到链接上时</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>:yellow&#125;</span><br></pre></td></tr></table></figure><h3 id="设置标签内文字垂直居中"><a href="#设置标签内文字垂直居中" class="headerlink" title="设置标签内文字垂直居中"></a>设置标签内文字垂直居中</h3><p>设置<code>line-height</code>和<code>a</code>标签高度一样即可</p><h3 id="设置a标签的宽高"><a href="#设置a标签的宽高" class="headerlink" title="设置a标签的宽高"></a>设置<code>a</code>标签的宽高</h3><p>因为<code>a</code>是内联标签,无法直接设置宽高,所以要想设置宽高将将其设置为块级元素即可</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span>&#123;<span class="attribute">display</span>: inline-block;&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;去掉下划线&quot;&gt;&lt;a href=&quot;#去掉下划线&quot; class=&quot;headerlink&quot; title=&quot;去掉下划线&quot;&gt;&lt;/a&gt;去掉下划线&lt;/h3&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="前端" scheme="https://tongfangyuan.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="CSS" scheme="https://tongfangyuan.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>初学前端之CSS常用的几种选择器</title>
    <link href="https://tongfangyuan.github.io/2018/05/17/%E5%88%9D%E5%AD%A6%E5%89%8D%E7%AB%AF%E4%B9%8BCSS%E5%B8%B8%E7%94%A8%E7%9A%84%E5%87%A0%E7%A7%8D%E9%80%89%E6%8B%A9%E5%99%A8/"/>
    <id>https://tongfangyuan.github.io/2018/05/17/初学前端之CSS常用的几种选择器/</id>
    <published>2018-05-17T02:32:50.000Z</published>
    <updated>2018-06-07T13:16:43.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="id-选择器"><a href="#id-选择器" class="headerlink" title="id 选择器"></a>id 选择器</h2><h4 id="id选择器用-标识"><a href="#id选择器用-标识" class="headerlink" title="id选择器用#标识"></a>id选择器用<code>#</code>标识</h4><p>定义id为red的标签颜色为红色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#red</span>&#123;<span class="attribute">color</span>:red&#125;</span><br></pre></td></tr></table></figure><p>则下面的HTML代码<code>p</code>标签会被渲染成红色</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"red"</span>&gt;</span>这个段落是红色。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="类选择器"><a href="#类选择器" class="headerlink" title="类选择器"></a>类选择器</h2><h4 id="类选择器用-来标识"><a href="#类选择器用-来标识" class="headerlink" title="类选择器用.来标识"></a>类选择器用<code>.</code>来标识</h4><p>定义一个位置居中的类选择器</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span>&#123;<span class="attribute">text-align</span>:center&#125;</span><br></pre></td></tr></table></figure><p>下面代码，中<code>h1</code>标签会居中显示</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>This heading will be center-aligned<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="标签选择器"><a href="#标签选择器" class="headerlink" title="标签选择器"></a>标签选择器</h2><h4 id="设置一些常见标签的样式"><a href="#设置一些常见标签的样式" class="headerlink" title="设置一些常见标签的样式"></a>设置一些常见标签的样式</h4><p>设置<code>h1</code>的字体大小为<code>12px</code><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;<span class="attribute">font-size</span>:<span class="number">12px</span>&#125;</span><br></pre></td></tr></table></figure></p><p>html代码<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>字体大小为12px<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;id-选择器&quot;&gt;&lt;a href=&quot;#id-选择器&quot; class=&quot;headerlink&quot; title=&quot;id 选择器&quot;&gt;&lt;/a&gt;id 选择器&lt;/h2&gt;&lt;h4 id=&quot;id选择器用-标识&quot;&gt;&lt;a href=&quot;#id选择器用-标识&quot; class=&quot;headerlink
      
    
    </summary>
    
      <category term="前端" scheme="https://tongfangyuan.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="CSS" scheme="https://tongfangyuan.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>初学前端CSS小记一</title>
    <link href="https://tongfangyuan.github.io/2018/05/17/%E5%88%9D%E5%AD%A6%E5%89%8D%E7%AB%AF%E4%B9%8BCSS%E5%B0%8F%E8%AE%B0%E4%B8%80/"/>
    <id>https://tongfangyuan.github.io/2018/05/17/初学前端之CSS小记一/</id>
    <published>2018-05-17T02:32:50.000Z</published>
    <updated>2018-07-04T13:38:21.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><h3 id="新手开发中遇到的问题-在这里总结一下-方便以后排查"><a href="#新手开发中遇到的问题-在这里总结一下-方便以后排查" class="headerlink" title="新手开发中遇到的问题,在这里总结一下,方便以后排查"></a>新手开发中遇到的问题,在这里总结一下,方便以后排查</h3></blockquote><h6 id="去掉button点击后的蓝框"><a href="#去掉button点击后的蓝框" class="headerlink" title="去掉button点击后的蓝框"></a>去掉<code>button</code>点击后的蓝框</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button &#123;</span><br><span class="line">outline:none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="去掉button边框阴影"><a href="#去掉button边框阴影" class="headerlink" title="去掉button边框阴影"></a>去掉<code>button</code>边框阴影</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button &#123;</span><br><span class="line">border:none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="padding、margin、border-图解"><a href="#padding、margin、border-图解" class="headerlink" title="padding、margin、border 图解"></a>padding、margin、border 图解</h6><p><img src="https://i.stack.imgur.com/D9nU6.gif" alt="image"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;h3 id=&quot;新手开发中遇到的问题-在这里总结一下-方便以后排查&quot;&gt;&lt;a href=&quot;#新手开发中遇到的问题-在这里总结一下-方便以后排查&quot; class=&quot;headerlink&quot; title=&quot;新手开发中遇到的问题,在这里总结一下,方便以后排查&quot;&gt;&lt;/
      
    
    </summary>
    
      <category term="前端" scheme="https://tongfangyuan.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="CSS" scheme="https://tongfangyuan.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>iOS 实现语音边录边传</title>
    <link href="https://tongfangyuan.github.io/2018/03/15/iOS%20%E5%AE%9E%E7%8E%B0%E8%AF%AD%E9%9F%B3%E8%BE%B9%E5%BD%95%E8%BE%B9%E4%BC%A0/"/>
    <id>https://tongfangyuan.github.io/2018/03/15/iOS 实现语音边录边传/</id>
    <published>2018-03-15T06:35:23.000Z</published>
    <updated>2018-06-07T13:08:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>基本原理就是在用户开始录音的时候就与服务器建立连接,将音频数据分块传输,直到停止录音.<br>相比录音结束后上传整个音频数据,边录边传更省时间,从而提高用户体验.</p><a id="more"></a><h1 id="主要流程"><a href="#主要流程" class="headerlink" title="主要流程"></a>主要流程</h1><ol><li>开始录音,与服务器建立流上传连接</li><li>录音期间,将分块数据传输到服务器</li><li>录音结束并且所有数据传输完毕,关闭流连接</li><li>处理服务器返回的数据</li></ol><h2 id="与服务器建立连接"><a href="#与服务器建立连接" class="headerlink" title="与服务器建立连接"></a>与服务器建立连接</h2><p>用户开始录音时,建立流上传连接任务.在session调用<code>uploadTaskWithStreamedRequest:</code>后,系统会调用<code>URLSession:task:needNewBodyStream:</code> 代理方法获取输入流(<code>HTTPBodyStream</code>),通过输入流就可以向服务器上传分块数据</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURLSessionConfiguration</span> *config = [<span class="built_in">NSURLSessionConfiguration</span> defaultSessionConfiguration];</span><br><span class="line"><span class="built_in">NSURLSession</span> *session = [<span class="built_in">NSURLSession</span> sessionWithConfiguration:config];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化 request</span></span><br><span class="line"><span class="built_in">NSURL</span> *r_url = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://www.example.com"</span>];</span><br><span class="line"><span class="built_in">NSMutableURLRequest</span> *request = [<span class="built_in">NSMutableURLRequest</span> requestWithURL:r_url];</span><br><span class="line">request.HTTPMethod = <span class="string">@"POST"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建上传任务</span></span><br><span class="line"><span class="built_in">NSURLSessionUploadTask</span> *uploadTask = [session uploadTaskWithStreamedRequest:request];</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 任务执行</span></span><br><span class="line">[uploadTask resume];</span><br></pre></td></tr></table></figure><p>实现代理方法,传入输入流给<code>session</code><br>建立输入流的方式有两种:</p><ul><li>调用<code>NSStream</code>类方法<code>getBoundStreamsWithBufferSize:inputStream:outputStream:</code>得到两个绑定的流对象输入流(<code>inputStream</code>)和输出流(<code>outputStream</code>),当输出流写入数据的时候系统内部会将数据传递给输入流.</li><li>子类化<code>NSInputStream</code>(文后链接有介绍这种方法,原文作者推荐第一种方法,本文不重点讲解)</li></ul><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session task:(<span class="built_in">NSURLSessionTask</span> *)task needNewBodyStream:(<span class="keyword">void</span> (^)(<span class="built_in">NSInputStream</span> * _Nullable))completionHandler</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSInputStream</span> *inputStream = <span class="literal">nil</span>;</span><br><span class="line">    <span class="built_in">NSOutputStream</span> *outputStream = <span class="literal">nil</span>;</span><br><span class="line">    [<span class="built_in">NSStream</span> getBoundStreamsWithBufferSize:<span class="number">1024</span> inputStream:&amp;inputStream outputStream:&amp;outputStream];</span><br><span class="line">    <span class="keyword">self</span>.bodyStream = inputStream;</span><br><span class="line">    <span class="keyword">self</span>.outputStream = outputStream;</span><br><span class="line">    <span class="keyword">self</span>.outputStream.delegate = <span class="keyword">self</span>;</span><br><span class="line">    [<span class="keyword">self</span>.outputStream scheduleInRunLoop:[<span class="built_in">NSRunLoop</span> currentRunLoop] forMode:<span class="built_in">NSDefaultRunLoopMode</span>];</span><br><span class="line">    [<span class="keyword">self</span>.outputStream open];</span><br><span class="line">    completionHandler(<span class="keyword">self</span>.bodyStream);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数据分块上传到服务器"><a href="#数据分块上传到服务器" class="headerlink" title="数据分块上传到服务器"></a>数据分块上传到服务器</h2><p>传输分块数据,写入分块数据是在<code>stream:handleEvent:</code>方法处理的,上文有设置输出流代理并且开启,每当有数据可以写入的时候,就会代用代理方法.</p><ul><li><code>NSStreamEventHasSpaceAvailable</code>事件表示有新数据可以写入,输入流写入数据方法<code>write:maxLength:</code></li><li>当用户停止录音并且所有数据写入完成之后,我们需要关闭输出流和将其代理置空.如果不关闭流,可能会出现连接超时,数据传输失败.</li><li>所有数据是否写入完成需要结合具体场景来判断</li><li>关于输入流输出流如何使用,请参考苹果给的demo</li><li>下面是伪代码</li></ul><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)stream:(<span class="built_in">NSStream</span> *)aStream handleEvent:(<span class="built_in">NSStreamEvent</span>)eventCode</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">switch</span> (eventCode) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">NSStreamEventNone</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"NSStreamEventNone"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">NSStreamEventOpenCompleted</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"NSStreamEventOpenCompleted"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">NSStreamEventHasBytesAvailable</span>: &#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"NSStreamEventHasBytesAvailable"</span>);</span><br><span class="line">        &#125; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">NSStreamEventHasSpaceAvailable</span>: &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"NSStreamEventHasBytesAvailable"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 录音中且有新数据需要写入,输入流写入数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 录音中没有新数据,等待新数据进入</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 录音停止,数据未写完</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 录音停止,所有数据未写完,关闭输入流,设置输入流代理为nil</span></span><br><span class="line"></span><br><span class="line">        ....</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">NSStreamEventErrorOccurred</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"NSStreamEventErrorOccurred"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">NSStreamEventEndEncountered</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"NSStreamEventEndEncountered"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="处理服务器响应数据"><a href="#处理服务器响应数据" class="headerlink" title="处理服务器响应数据"></a>处理服务器响应数据</h2><p>要获取服务器返回的数据需要结合下面的代理方法:</p><ol><li><code>URLSession:dataTask:didReceiveResponse:completionHandler:</code></li><li><code>URLSession:dataTask:didReceiveData:</code> 如果服务器返回的数据量大，比如包含二进制音频视频等，会分段接收</li><li><code>URLSession:task:didCompleteWithError:</code>所有数据接收完成后会调用改方法</li></ol><p>实现第一个代理方法的<code>completionHandler</code>,才会调用第二个代理拿到服务器数据<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session</span><br><span class="line">          dataTask:(<span class="built_in">NSURLSessionDataTask</span> *)dataTask</span><br><span class="line">didReceiveResponse:(<span class="built_in">NSURLResponse</span> *)response</span><br><span class="line"> completionHandler:(<span class="keyword">void</span> (^)(<span class="built_in">NSURLSessionResponseDisposition</span> disposition))completionHandler</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (urlResponse.statusCode &gt;= <span class="number">200</span> || urlResponse.statusCode &lt;= <span class="number">299</span>) &#123;</span><br><span class="line">        <span class="built_in">NSHTTPURLResponse</span> *urlResponse = (<span class="built_in">NSHTTPURLResponse</span> *)response;</span><br><span class="line">   completionHandler(<span class="built_in">NSURLSessionResponseAllow</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>接收服务器响应数据</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session dataTask:(<span class="built_in">NSURLSessionDataTask</span> *)dataTask</span><br><span class="line">    didReceiveData:(<span class="built_in">NSData</span> *)data &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSHTTPURLResponse</span> *res = (<span class="built_in">NSHTTPURLResponse</span> *)dataTask.response;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Send audio status code：%d"</span>, (<span class="keyword">int</span>)res.statusCode);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.streamUploadTask == dataTask) &#123;</span><br><span class="line">       </span><br><span class="line">        <span class="comment">// 拼接数据</span></span><br><span class="line">        [<span class="keyword">self</span>.streamReceiveData appendData:data];</span><br><span class="line"></span><br><span class="line">    &#125;  <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 其他任务响应数据</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>数据处理<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session</span><br><span class="line">              task:(<span class="built_in">NSURLSessionTask</span> *)task</span><br><span class="line">didCompleteWithError:(<span class="keyword">nullable</span> <span class="built_in">NSError</span> *)error</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.streamUploadTask==task) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!error) &#123;</span><br><span class="line">            <span class="comment">// 数据处理</span></span><br><span class="line">        &#125; </span><br><span class="line">        </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h1><p><a href="https://forums.developer.apple.com/thread/76675" target="_blank" rel="noopener">How to stream upload recorder audio as multipart message to a http/2 endpoint</a><br><a href="https://developer.apple.com/library/content/samplecode/SimpleURLConnections/Introduction/Intro.html" target="_blank" rel="noopener">NSStream Demo</a><br><a href="https://tongfangyuan.github.io/2018/03/15/iOS%20实现语音边录边传">原文链接</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;基本原理就是在用户开始录音的时候就与服务器建立连接,将音频数据分块传输,直到停止录音.&lt;br&gt;相比录音结束后上传整个音频数据,边录边传更省时间,从而提高用户体验.&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://tongfangyuan.github.io/categories/iOS/"/>
    
    
      <category term="边录边传 NSStream" scheme="https://tongfangyuan.github.io/tags/%E8%BE%B9%E5%BD%95%E8%BE%B9%E4%BC%A0-NSStream/"/>
    
  </entry>
  
  <entry>
    <title>MySQL学习笔记</title>
    <link href="https://tongfangyuan.github.io/2017/11/24/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>https://tongfangyuan.github.io/2017/11/24/MySQL学习笔记/</id>
    <published>2017-11-24T06:35:23.000Z</published>
    <updated>2018-06-07T13:08:01.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h1><ul><li><p>新增数据库</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">Database</span> tp5</span><br></pre></td></tr></table></figure></li><li><p>查看数据库,查看将要创建的数据库是否存在</p></li></ul><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> tp5</span><br></pre></td></tr></table></figure><ul><li>选择数据库</li></ul><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> tp5</span><br></pre></td></tr></table></figure><ul><li>删除数据库</li></ul><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> tp5</span><br></pre></td></tr></table></figure><a id="more"></a><h1 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h1><ul><li><p>创建表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`user`</span> (</span><br><span class="line"><span class="string">`id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">unsigned</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">'主键'</span>,</span><br><span class="line"><span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">40</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'用户名'</span>,</span><br><span class="line"><span class="string">`headurl`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'头像地址'</span>,</span><br><span class="line"><span class="string">`tel`</span> <span class="built_in">varchar</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'电话'</span>,</span><br><span class="line"><span class="string">`createtime`</span> <span class="built_in">varchar</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'注册时间'</span>,</span><br><span class="line"><span class="string">`password`</span> <span class="built_in">varchar</span>(<span class="number">40</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'密码'</span>,</span><br><span class="line"><span class="string">`age`</span> <span class="built_in">int</span>(<span class="number">3</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">20</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8mb4</span><br></pre></td></tr></table></figure></li><li><p>新增一条数据</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO `user` (`name`,`password`,`tel`,`age`)</span><br><span class="line">VALUES (<span class="string">'数据'</span>,<span class="string">'21232f297a57a5a743894a0e4a801fc3'</span>,<span class="string">'18611488388'</span>,<span class="string">'39'</span>);</span><br></pre></td></tr></table></figure></li><li><p>新增多条数据</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO `user` (`name`,`password`,`tel`,`age`)</span><br><span class="line">VALUES (<span class="string">'胡鹏'</span>,<span class="string">'21232f297a57a5a743894a0e4a801fc3'</span>,<span class="string">'18842438941'</span>,<span class="string">'23'</span>),</span><br><span class="line">(<span class="string">'张新'</span>,<span class="string">'21232f297a57a5a743894a0e4a801fc3'</span>,<span class="string">'18842734041'</span>,<span class="string">'22'</span>),</span><br><span class="line">(<span class="string">'杨成'</span>,<span class="string">'21232f297a57a5a743894a0e4a801fc3'</span>,<span class="string">'18842437041'</span>,<span class="string">'24'</span>);</span><br></pre></td></tr></table></figure></li><li><p>查询用户表中所有用户数据</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="symbol">`user`</span></span><br></pre></td></tr></table></figure></li><li><p>查询user表中,所有用户的手机号</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> tel <span class="keyword">from</span> <span class="symbol">`user`</span></span><br></pre></td></tr></table></figure></li><li><p>查询用户id为5的用户数据</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> <span class="symbol">`user`</span> <span class="keyword">WHERE</span> id=<span class="number">5</span></span><br></pre></td></tr></table></figure></li><li><p>查询年龄大于16的用户</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span><span class="built_in"> user </span>where age&gt;16</span><br></pre></td></tr></table></figure></li><li><p>查询年龄大于20小于40的用户</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span><span class="built_in"> user </span>where age&gt;20 <span class="keyword">and</span> age&lt;40</span><br></pre></td></tr></table></figure></li><li><p>查询年龄大于20小于40的前5个用户</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span><span class="built_in"> user </span>where age&gt;20 <span class="keyword">and</span> age&lt;40 LIMIT 5</span><br></pre></td></tr></table></figure></li><li><p>显示年龄最小的五个人</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span><span class="built_in"> user </span>where age&gt;0 order by age  asc limit 5</span><br></pre></td></tr></table></figure></li><li><p>查询年龄大于20小于40的用户的名称</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT name <span class="keyword">from</span><span class="built_in"> user </span>where age&gt;20 <span class="keyword">and</span> age&lt;40</span><br></pre></td></tr></table></figure></li><li><p>所有用户按照age从小到大排序 desc降序 asc升序排序</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span><span class="built_in"> user </span>order by age desc</span><br></pre></td></tr></table></figure></li><li><p>查询age为null的用户</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span><span class="built_in"> user </span>where age is <span class="literal">NULL</span></span><br></pre></td></tr></table></figure></li><li><p>查询年龄唯一的用户</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> age <span class="keyword">FROM</span> <span class="symbol">`user`</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h4><ul><li><p>查询商品表中哪些用户购买过商品，并将用户信息显示出来</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">user</span>.id,<span class="keyword">user</span>.name,order_goods.name</span><br><span class="line"><span class="keyword">from</span> <span class="keyword">user</span>,order_goods</span><br><span class="line"><span class="keyword">where</span> order_goods.uid=<span class="keyword">user</span>.id</span><br></pre></td></tr></table></figure></li><li><p>查询胡鹏买了哪些商品</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT user.<span class="built_in">id</span> <span class="keyword">as</span> uid,user.<span class="built_in">name</span> <span class="keyword">as</span> username,order_goods.<span class="built_in">name</span> <span class="keyword">as</span> shopname,order_goods.<span class="built_in">id</span> <span class="keyword">as</span> oid</span><br><span class="line"><span class="keyword">from</span> user,order_goods</span><br><span class="line"><span class="keyword">where</span> order_goods.uid=user.<span class="built_in">id</span></span><br><span class="line"><span class="keyword">and</span> user.<span class="built_in">name</span>='胡鹏'</span><br></pre></td></tr></table></figure></li><li><p>左连接</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span> user</span><br><span class="line">left join order_goods</span><br><span class="line">on user.<span class="attribute">id</span>=order_goods.uid</span><br></pre></td></tr></table></figure></li><li><p>右连接</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span> user</span><br><span class="line">right join order_goods</span><br><span class="line">on user.<span class="attribute">id</span>=order_goods.uid</span><br></pre></td></tr></table></figure></li></ul><h4 id="子查询-用于子查询的关键字包括in、not-in、-、-、exists、not-exists等"><a href="#子查询-用于子查询的关键字包括in、not-in、-、-、exists、not-exists等" class="headerlink" title="子查询,用于子查询的关键字包括in、not in、=、!=、exists、not exists等"></a>子查询,用于子查询的关键字包括in、not in、=、!=、exists、not exists等</h4><ul><li><p>查询uid为 5,8,15,17的用户</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> user</span><br><span class="line">where user.id <span class="keyword">in</span> (5,8,15,17)</span><br></pre></td></tr></table></figure></li><li><p>查询购买过商品的用户信息</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * <span class="keyword">from</span> user</span><br><span class="line">where id <span class="keyword">in</span> (select uid <span class="keyword">from</span> order_goods)</span><br></pre></td></tr></table></figure></li></ul><h4 id="使用-update-语句进行记录更新"><a href="#使用-update-语句进行记录更新" class="headerlink" title="使用 update 语句进行记录更新"></a>使用 update 语句进行记录更新</h4><ul><li><p>名称为’数据’的用户改名为叶尚乐</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE<span class="built_in"> user </span><span class="builtin-name">SET</span> <span class="attribute">name</span>=<span class="string">'叶尚乐'</span> where <span class="attribute">name</span>=<span class="string">'数据'</span></span><br></pre></td></tr></table></figure></li><li><p>将叶尚乐age修改为25,手机号码修改为17605087708</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE<span class="built_in"> user </span><span class="builtin-name">set</span> <span class="attribute">age</span>=25,tel=17605087708 where <span class="attribute">name</span>=<span class="string">'叶尚乐'</span></span><br></pre></td></tr></table></figure></li><li><p>将id为20的用户age减一岁</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update<span class="built_in"> user </span><span class="builtin-name">set</span> <span class="attribute">age</span>=age-1 where <span class="attribute">id</span>=20;</span><br></pre></td></tr></table></figure></li><li><p>删除user表中年龄为空的用户</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE <span class="keyword">FROM</span><span class="built_in"> user </span>where age is <span class="literal">NULL</span></span><br></pre></td></tr></table></figure></li><li><p>删除id不为17的胡鹏用户</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE <span class="keyword">FROM</span><span class="built_in"> user </span>where id!=17 <span class="keyword">and</span> <span class="attribute">name</span>=<span class="string">'胡鹏'</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="切记"><a href="#切记" class="headerlink" title="切记"></a>切记</h2><ul><li style="list-style: none"><input type="checkbox"> 删除时一定要记住加上where条件，不然会清空掉整个表的记录。</li><li style="list-style: none"><input type="checkbox"> 删除重要数据前一定要备份、备份、备份。</li></ul><h1 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h1><ul><li style="list-style: none"><input type="checkbox" checked> <a href="http://mysql.phpxy.com/146038" target="_blank" rel="noopener">3天入门MySQL</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;数据库操作&quot;&gt;&lt;a href=&quot;#数据库操作&quot; class=&quot;headerlink&quot; title=&quot;数据库操作&quot;&gt;&lt;/a&gt;数据库操作&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;新增数据库&lt;/p&gt;
&lt;figure class=&quot;highlight n1ql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Database&lt;/span&gt; tp5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;查看数据库,查看将要创建的数据库是否存在&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;SHOW&lt;/span&gt; tp5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;选择数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight ada&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;USE&lt;/span&gt; tp5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;删除数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight n1ql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;DATABASE&lt;/span&gt; tp5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="后端" scheme="https://tongfangyuan.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
      <category term="MySQL" scheme="https://tongfangyuan.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>阿里云之在 linux 中搭建 Git服务器</title>
    <link href="https://tongfangyuan.github.io/2017/09/11/%E9%98%BF%E9%87%8C%E4%BA%91%E4%B9%8B%E5%9C%A8%20linux%20%E4%B8%AD%E6%90%AD%E5%BB%BA%20Git%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://tongfangyuan.github.io/2017/09/11/阿里云之在 linux 中搭建 Git服务器/</id>
    <published>2017-09-11T02:35:33.000Z</published>
    <updated>2018-06-07T13:08:01.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前提声明"><a href="#前提声明" class="headerlink" title="前提声明"></a>前提声明</h2><ul><li>macOS 10.11.6 操作系统</li><li>SSH 连接使用的是 <code>终端</code> 软件</li><li>您已经在阿里云购买了<code>云服务器 ECS</code></li></ul><a id="more"></a><h2 id="SSH-连接云服务器ESC"><a href="#SSH-连接云服务器ESC" class="headerlink" title="SSH 连接云服务器ESC"></a>SSH 连接云服务器ESC</h2><p>输入连接命令</p><p><code>ssh -l root ip地址</code></p><p>终端会提示输入密码</p><p><code>root@ip地址&#39;s password:</code></p><p>登录成功提示</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Last failed login: Wed Sep  6 09:54:27 CST 2017 <span class="keyword">from</span> 140.205.225.187 on ssh:notty</span><br><span class="line">There were 8 failed login attempts since the last successful login.</span><br><span class="line">Last login: Wed Sep  6 09:38:10 2017 <span class="keyword">from</span> 27.154.170.163</span><br><span class="line"></span><br><span class="line">Welcome <span class="keyword">to</span> Alibaba Cloud Elastic Compute<span class="built_in"> Service </span>!</span><br></pre></td></tr></table></figure><h2 id="开始搭建-Git-服务器"><a href="#开始搭建-Git-服务器" class="headerlink" title="开始搭建 Git 服务器"></a>开始搭建 <code>Git</code> 服务器</h2><h3 id="安装-git"><a href="#安装-git" class="headerlink" title="安装 git"></a>安装 <code>git</code></h3><p>在 <code>linux</code> 上安装</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum <span class="keyword">install</span> git</span><br></pre></td></tr></table></figure><p>在 <code>Mac</code> 上安装</p><p>在 <code>Mac</code> 上安装 <code>Git</code> 有多种方式。</p><p>最简单的方法是安装 <code>Xcode Command Line Tools。 Mavericks （10.9）</code> 或更高版本的系统中，在 <code>Terminal</code> 里尝试首次运行 <code>git</code> 命令即可。 如果没有安装过命令行开发者工具，将会提示你安装。</p><p>如果你想安装更新的版本，可以使用二进制安装程序。 官方维护的 <code>OSX Git</code> 安装程序可以在 <code>Git</code> 官方网站下载，网址为 <a href="http://git-scm.com/download/mac。" target="_blank" rel="noopener">http://git-scm.com/download/mac。</a></p><p><img src="https://git-scm.com/book/en/v2/images/git-osx-installer.png" alt="图片"></p><p><code>Figure 7. Git OS X</code> 安装程序.</p><p>你也可以将它作为 <code>GitHub for Mac</code> 的一部分来安装。 它们的图形化 <code>Git</code> 工具有一个安装命令行工具的选项。 你可以从 <code>GitHub for Mac</code> 网站下载该工具，网址为 <a href="http://mac.github.com。" target="_blank" rel="noopener">http://mac.github.com。</a></p><p>查看当前 <code>Git</code> 版本</p><p>输入命令 <code>git --version</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@izwz91cf36dj3iegmw8gp9z htdocs]</span># <span class="selector-tag">git</span> <span class="selector-tag">--version</span></span><br><span class="line"><span class="selector-tag">git</span> <span class="selector-tag">version</span> 1<span class="selector-class">.8</span><span class="selector-class">.3</span><span class="selector-class">.1</span></span><br></pre></td></tr></table></figure><h2 id="相关资料"><a href="#相关资料" class="headerlink" title="相关资料"></a>相关资料</h2><p><a href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git" target="_blank" rel="noopener">Git 安装</a></p><p><a href="https://blog.argcv.com/articles/2078.c" target="_blank" rel="noopener">Git 部署代码到服务器</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前提声明&quot;&gt;&lt;a href=&quot;#前提声明&quot; class=&quot;headerlink&quot; title=&quot;前提声明&quot;&gt;&lt;/a&gt;前提声明&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;macOS 10.11.6 操作系统&lt;/li&gt;
&lt;li&gt;SSH 连接使用的是 &lt;code&gt;终端&lt;/code&gt; 软件&lt;/li&gt;
&lt;li&gt;您已经在阿里云购买了&lt;code&gt;云服务器 ECS&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="后端" scheme="https://tongfangyuan.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
      <category term="linux" scheme="https://tongfangyuan.github.io/tags/linux/"/>
    
      <category term="Git" scheme="https://tongfangyuan.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>阿里云之在 linux 下集成 XAMPP 环境</title>
    <link href="https://tongfangyuan.github.io/2017/09/07/%E9%98%BF%E9%87%8C%E4%BA%91%E4%B9%8B%E5%9C%A8%20linux%20%E4%B8%8B%E9%9B%86%E6%88%90%20XAMPP%20%E7%8E%AF%E5%A2%83/"/>
    <id>https://tongfangyuan.github.io/2017/09/07/阿里云之在 linux 下集成 XAMPP 环境/</id>
    <published>2017-09-07T02:38:08.000Z</published>
    <updated>2018-06-07T13:08:01.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前提声明"><a href="#前提声明" class="headerlink" title="前提声明"></a>前提声明</h2><ul><li>macOS 10.11.6 操作系统</li><li>SSH 连接使用的是 <code>终端</code> 软件</li><li>您已经在阿里云购买了<code>云服务器 ECS</code></li></ul><a id="more"></a><h2 id="SSH-连接云服务器ESC"><a href="#SSH-连接云服务器ESC" class="headerlink" title="SSH 连接云服务器ESC"></a>SSH 连接云服务器ESC</h2><p>输入连接命令</p><p><code>ssh -l root ip地址</code></p><p>终端会提示输入密码</p><p><code>root@ip地址&#39;s password:</code></p><p>登录成功提示</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Last failed login: Wed Sep  6 09:54:27 CST 2017 <span class="keyword">from</span> 140.205.225.187 on ssh:notty</span><br><span class="line">There were 8 failed login attempts since the last successful login.</span><br><span class="line">Last login: Wed Sep  6 09:38:10 2017 <span class="keyword">from</span> 27.154.170.163</span><br><span class="line"></span><br><span class="line">Welcome <span class="keyword">to</span> Alibaba Cloud Elastic Compute<span class="built_in"> Service </span>!</span><br></pre></td></tr></table></figure><h2 id="开始集成-XAMPP"><a href="#开始集成-XAMPP" class="headerlink" title="开始集成 XAMPP"></a>开始集成 XAMPP</h2><h3 id="查看-linux-系统位数"><a href="#查看-linux-系统位数" class="headerlink" title="查看 linux 系统位数"></a>查看 linux 系统位数</h3><p>在终端输入<br><code>uname -a</code></p><ul><li><p>x86_64则说明你是64位内核, 跑的是64位的系统.</p></li><li><p>i386, i686说明你是32位的内核, 跑的是32位的系</p></li></ul><p>笔者是64位系统的<br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="title">@izwz91cf36dj3iegmw8gp9z</span> ~]# uname -a</span><br><span class="line">Linux izwz<span class="number">91</span>cf<span class="number">36</span>dj<span class="number">3</span>iegmw<span class="number">8</span>gp<span class="number">9</span>z <span class="number">3.10</span>.<span class="number">0</span><span class="number">-514.6</span>.<span class="number">2</span>.el<span class="number">7</span>.<span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> <span class="symbol">#1</span> SMP Thu Feb <span class="number">23</span> <span class="number">03</span>:<span class="number">04</span>:<span class="number">39</span> UTC <span class="number">2017</span> <span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> <span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> <span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> GNU/Linux</span><br></pre></td></tr></table></figure></p><h3 id="下载-XAMPP-安装包"><a href="#下载-XAMPP-安装包" class="headerlink" title="下载 XAMPP 安装包"></a>下载 XAMPP 安装包</h3><p><a href="https://www.apachefriends.org/zh_cn/download.html" target="_blank" rel="noopener">下载地址1</a> or <a href="http://sourceforge.net/projects/xampp/files/XAMPP%20Linux/1.8.3/" target="_blank" rel="noopener">下载地址2</a>,根据<code>linux</code>系统位数下载</p><p>下载前,请先进入<code>opt</code>文件夹,不然下载完之后我们不知道文件下载到哪里去了</p><p>回到根目录<code>cd /</code><br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@izwz91cf36dj3iegmw8gp9z</span> ~]<span class="meta">#  cd /</span></span><br></pre></td></tr></table></figure></p><p>查看所有文件夹<code>ls</code><br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@izwz91cf36dj3iegmw8gp9z /]<span class="comment"># ls</span></span><br><span class="line">bin   dev  home  lib64       media  opt   root  sbin  sys  usr</span><br><span class="line">boot  etc  <span class="class"><span class="keyword">lib</span>   <span class="title">lost</span>+<span class="title">found</span>  <span class="title">mnt</span>    <span class="title">proc</span>  <span class="title">run</span>   <span class="title">srv</span>   <span class="title">tmp</span>  <span class="title">var</span></span></span><br></pre></td></tr></table></figure></p><p>进入<code>opt</code>文件夹 <code>cd opt</code><br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@izwz91cf36dj3iegmw8gp9z</span> /]<span class="meta"># cd opt</span></span><br></pre></td></tr></table></figure></p><p>下载文件<code>wget 地址</code>(笔者下载的是 PHP 版本5.6.31 64位的)<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:<span class="regexp">//</span>www.apachefriends.org<span class="regexp">/xampp-files/</span><span class="number">5.6</span>.<span class="number">31</span><span class="regexp">/xampp-linux-x64-5.6.31-0-installer.run</span></span><br></pre></td></tr></table></figure></p><p>如果提示证书错误,使用下面的命令<code>wget --no-check-certificate 地址</code></p><p>下载是个漫长的过程<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@izwz91cf36dj3iegmw8gp9z opt]</span># <span class="selector-tag">wget</span> <span class="selector-tag">https</span>:<span class="comment">//www.apachefriends.org/xampp-files/5.6.31/xampp-linux-x64-5.6.31-0-installer.run</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">--2017-09-06</span> <span class="selector-tag">10</span><span class="selector-pseudo">:06</span><span class="selector-pseudo">:04--</span>  <span class="selector-tag">https</span>:<span class="comment">//www.apachefriends.org/xampp-files/5.6.31/xampp-linux-x64-5.6.31-0-installer.run</span></span><br><span class="line">正在解析主机 <span class="selector-tag">www</span><span class="selector-class">.apachefriends</span><span class="selector-class">.org</span> (www.apachefriends.org)... <span class="selector-tag">107</span><span class="selector-class">.22</span><span class="selector-class">.247</span><span class="selector-class">.161</span></span><br><span class="line">正在连接 <span class="selector-tag">www</span><span class="selector-class">.apachefriends</span><span class="selector-class">.org</span> (www.apachefriends.org)|<span class="selector-tag">107</span><span class="selector-class">.22</span><span class="selector-class">.247</span><span class="selector-class">.161</span>|<span class="selector-pseudo">:443...</span> 已连接。</span><br><span class="line">已发出 <span class="selector-tag">HTTP</span> 请求，正在等待回应... <span class="selector-tag">302</span> <span class="selector-tag">Found</span></span><br><span class="line">位置：<span class="selector-tag">https</span>:<span class="comment">//downloadsapachefriends.global.ssl.fastly.net/xampp-files/5.6.31/xampp-linux-x64-5.6.31-0-installer.run?from_af=true [跟随至新的 URL]</span></span><br><span class="line"><span class="selector-tag">--2017-09-06</span> <span class="selector-tag">10</span><span class="selector-pseudo">:06</span><span class="selector-pseudo">:05--</span>  <span class="selector-tag">https</span>:<span class="comment">//downloadsapachefriends.global.ssl.fastly.net/xampp-files/5.6.31/xampp-linux-x64-5.6.31-0-installer.run?from_af=true</span></span><br><span class="line">正在解析主机 <span class="selector-tag">downloadsapachefriends</span><span class="selector-class">.global</span><span class="selector-class">.ssl</span><span class="selector-class">.fastly</span><span class="selector-class">.net</span> (downloadsapachefriends.global.ssl.fastly.net)... <span class="selector-tag">151</span><span class="selector-class">.101</span><span class="selector-class">.72</span><span class="selector-class">.249</span></span><br><span class="line">正在连接 <span class="selector-tag">downloadsapachefriends</span><span class="selector-class">.global</span><span class="selector-class">.ssl</span><span class="selector-class">.fastly</span><span class="selector-class">.net</span> (downloadsapachefriends.global.ssl.fastly.net)|<span class="selector-tag">151</span><span class="selector-class">.101</span><span class="selector-class">.72</span><span class="selector-class">.249</span>|<span class="selector-pseudo">:443...</span> 已连接。</span><br><span class="line">已发出 <span class="selector-tag">HTTP</span> 请求，正在等待回应... <span class="selector-tag">200</span> <span class="selector-tag">OK</span></span><br><span class="line">长度：<span class="selector-tag">142484765</span> (<span class="number">136</span>M) <span class="selector-attr">[binary/octet-stream]</span></span><br><span class="line">正在保存至: “<span class="selector-tag">xampp-linux-x64-5</span><span class="selector-class">.6</span><span class="selector-class">.31-0-installer</span><span class="selector-class">.run</span>”</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">100%</span><span class="selector-attr">[======================================&gt;]</span> <span class="selector-tag">142</span>,<span class="selector-tag">484</span>,<span class="selector-tag">765</span>  <span class="selector-tag">105KB</span>/<span class="selector-tag">s</span> 用时 <span class="selector-tag">30m</span> <span class="selector-tag">16s</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">2017-09-06</span> <span class="selector-tag">10</span><span class="selector-pseudo">:36</span><span class="selector-pseudo">:23</span> (<span class="number">76.6</span> KB/s) <span class="selector-tag">-</span> 已保存 “<span class="selector-tag">xampp-linux-x64-5</span><span class="selector-class">.6</span><span class="selector-class">.31-0-installer</span><span class="selector-class">.run</span>” <span class="selector-attr">[142484765/142484765]</span>)</span><br></pre></td></tr></table></figure></p><h3 id="给文件-755-权限"><a href="#给文件-755-权限" class="headerlink" title="给文件 755 权限"></a>给文件 755 权限</h3><p><code>chmod -R 755 xampp-linux-x64-5.6.31-0-installer.run</code></p><h3 id="运行安装软件"><a href="#运行安装软件" class="headerlink" title="运行安装软件"></a>运行安装软件</h3><p><code>./xampp-linux-x64-5.6.31-0-installer.run</code></p><p>安装提示不用管,一路回车即可</p><p>XAMPP 会被安装在<code>/opt/lampp</code>目录下</p><h3 id="安装完毕-启动-XAMPP-服务"><a href="#安装完毕-启动-XAMPP-服务" class="headerlink" title="安装完毕,启动 XAMPP 服务"></a>安装完毕,启动 XAMPP 服务</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/<span class="meta">opt</span>/lampp/lampp start</span><br></pre></td></tr></table></figure><p>启动成功提示<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Starting XAMPP <span class="keyword">for</span> Linux <span class="number">5.6</span>.<span class="number">31</span>-<span class="number">0</span>...</span><br><span class="line">XAMPP: Starting Apache..<span class="selector-class">.already</span> running.</span><br><span class="line">XAMPP: Starting MySQL..<span class="selector-class">.ok</span>.</span><br><span class="line">XAMPP: Starting ProFTPD..<span class="selector-class">.ok</span>.</span><br></pre></td></tr></table></figure></p><h3 id="设置-XAMPP-服务随系统启动"><a href="#设置-XAMPP-服务随系统启动" class="headerlink" title="设置 XAMPP 服务随系统启动"></a>设置 XAMPP 服务随系统启动</h3><p>输入以下命令<br><code>ln -s /opt/lampp/lampp /etc/rc.d/rc3.d/S99lampp</code></p><p><code>ln -s /opt/lampp/lampp /etc/rc.d/rc4.d/S99lampp</code></p><p><code>ln -s /opt/lampp/lampp /etc/rc.d/rc5.d/S99lampp</code></p><h3 id="设置密码"><a href="#设置密码" class="headerlink" title="设置密码"></a>设置密码</h3><h4 id="设置的密码一定要用文本的形式保存好"><a href="#设置的密码一定要用文本的形式保存好" class="headerlink" title="设置的密码一定要用文本的形式保存好"></a><code>设置的密码一定要用文本的形式保存好</code></h4><p>环境安装完了,但是<code>MySQL</code>的密码是多少,<code>ftp</code>的账号密码也是多少,我们不知道,这个默认为空,还需要我们自己设置.</p><p>输入命令<code>sudo /opt/lampp/lampp security</code></p><p>如果<code>msql</code>开着,会提示你先关闭,然后才会提示设置密码<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">XAMPP:</span>  <span class="string">Quick</span> <span class="string">security</span> <span class="string">check...</span></span><br><span class="line"><span class="attr">XAMPP:</span>  <span class="string">MySQL</span> <span class="string">is</span> <span class="string">accessable</span> <span class="string">via</span> <span class="string">network.</span></span><br><span class="line"><span class="attr">XAMPP:</span> <span class="string">Normaly</span> <span class="string">that's</span> <span class="string">not</span> <span class="string">recommended.</span> <span class="string">Do</span> <span class="string">you</span> <span class="string">want</span> <span class="string">me</span> <span class="string">to</span> <span class="string">turn</span> <span class="string">it</span> <span class="string">off?</span> <span class="string">[yes]</span> <span class="literal">yes</span></span><br><span class="line"><span class="attr">XAMPP:</span>  <span class="string">Turned</span> <span class="string">off.</span></span><br><span class="line"><span class="attr">XAMPP:</span> <span class="string">Stopping</span> <span class="string">MySQL...ok.</span></span><br><span class="line"><span class="attr">XAMPP:</span> <span class="string">Starting</span> <span class="string">MySQL...ok.</span></span><br></pre></td></tr></table></figure></p><p>提示你设置<code>phpMyAdmin</code>密码(账户名为<code>pma</code>)</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">XAMPP:  The MySQL/phpMyAdmin<span class="built_in"> user </span>pma has <span class="literal">no</span> password set!!!</span><br><span class="line">XAMPP: <span class="keyword">Do</span> you want <span class="keyword">to</span> <span class="builtin-name">set</span> a password? [<span class="literal">yes</span>] <span class="literal">yes</span></span><br><span class="line">XAMPP: Password:</span><br></pre></td></tr></table></figure><p>提示设置<code>msql</code>密码(账户名为<code>root</code>)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">XAMPP:</span>  <span class="string">MySQL</span> <span class="string">has</span> <span class="literal">no</span> <span class="string">root</span> <span class="string">passwort</span> <span class="string">set!!!</span></span><br><span class="line"><span class="attr">XAMPP:</span> <span class="string">Do</span> <span class="string">you</span> <span class="string">want</span> <span class="string">to</span> <span class="string">set</span> <span class="string">a</span> <span class="string">password?</span> <span class="string">[yes]</span> <span class="literal">yes</span></span><br><span class="line"><span class="attr">XAMPP:</span>  <span class="string">Write</span> <span class="string">the</span> <span class="string">password</span> <span class="string">somewhere</span> <span class="string">down</span> <span class="string">to</span> <span class="string">make</span> <span class="string">sure</span> <span class="string">you</span> <span class="string">won't</span> <span class="string">forget</span> <span class="string">it!!!</span></span><br><span class="line"><span class="attr">XAMPP:</span> <span class="attr">Password:</span></span><br></pre></td></tr></table></figure><p>提示设置<code>FTP</code>密码(用户名为<code>daemon</code>默认端口<code>21</code>)</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">XAMPP:  The FTP password <span class="keyword">for</span> user <span class="string">'daemon'</span> <span class="keyword">is</span> still <span class="keyword">set</span> <span class="keyword">to</span> <span class="string">'xampp'</span>.</span><br><span class="line">XAMPP: <span class="keyword">Do</span> you want <span class="keyword">to</span> change the password? [yes] yes</span><br></pre></td></tr></table></figure><p>设置完成后,在浏览器输入服务器的<code>ip</code>地址,应该是可以访问的</p><h3 id="设置XAMPP可以远程访问"><a href="#设置XAMPP可以远程访问" class="headerlink" title="设置XAMPP可以远程访问"></a>设置<code>XAMPP</code>可以远程访问</h3><p>输入命令<code>vi /opt/lampp/etc/extra/httpd-xampp.conf</code></p><p>将<code>Require local</code>改成<code>Require  all granted</code></p><p><code>/opt/lampp/lampp restart</code>重启<code>xampp</code></p><p>到此<code>xampp</code>安装完成</p><h2 id="相关资料"><a href="#相关资料" class="headerlink" title="相关资料"></a>相关资料</h2><p><a href="http://tongfy.top/blog/2017/09/07/a-li-yun-zhi-zai-linux-xia-ji-cheng-xampp-huan-jing/" target="_blank" rel="noopener">原文链接</a></p><p><a href="https://zh.wikipedia.org/wiki/XAMPP" target="_blank" rel="noopener">XAMPP</a></p><p><a href="http://www.cnblogs.com/ygyg/p/5395207.html" target="_blank" rel="noopener">linux下xampp集成包安装配置方法</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前提声明&quot;&gt;&lt;a href=&quot;#前提声明&quot; class=&quot;headerlink&quot; title=&quot;前提声明&quot;&gt;&lt;/a&gt;前提声明&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;macOS 10.11.6 操作系统&lt;/li&gt;
&lt;li&gt;SSH 连接使用的是 &lt;code&gt;终端&lt;/code&gt; 软件&lt;/li&gt;
&lt;li&gt;您已经在阿里云购买了&lt;code&gt;云服务器 ECS&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="后端" scheme="https://tongfangyuan.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
      <category term="XAMPP" scheme="https://tongfangyuan.github.io/tags/XAMPP/"/>
    
      <category term="PHP" scheme="https://tongfangyuan.github.io/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>scroll-view横向滚动</title>
    <link href="https://tongfangyuan.github.io/2017/08/25/scroll-view%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8/"/>
    <id>https://tongfangyuan.github.io/2017/08/25/scroll-view横向滚动/</id>
    <published>2017-08-25T06:35:23.000Z</published>
    <updated>2018-06-07T13:08:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近学习小程序开发,遇到<code>scroll-view</code>横向滚动不了的问题,google之后解决了问题,下面记录一下</p><a id="more"></a><h3 id="项目中遇到的问题"><a href="#项目中遇到的问题" class="headerlink" title="项目中遇到的问题"></a>项目中遇到的问题</h3><p>不符合需求的布局效果图(/desktop/note/scroll-view1.jpeg)</p><p>wxml文件代码<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 未来48小时天气预报 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"hours-container"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"hours-section"</span>&gt;</span>未来48小时天气预报<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"line-hor"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">"scroll-view_H"</span> <span class="attr">scroll-x</span>=<span class="string">"true"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123;[1,2,3,4,5,6,7,8]&#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"hours-item"</span>&gt;</span></span></span><br><span class="line"><span class="xml">未来48小时天气预报</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"line-ver disp-inlineBlock"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>wxss文件代码<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.hours-item</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.scroll-view_H</span> &#123;</span><br><span class="line"><span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h3><p>给<code>hours-item</code>添加<code>display: inline-block;</code>样式就好了</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近学习小程序开发,遇到&lt;code&gt;scroll-view&lt;/code&gt;横向滚动不了的问题,google之后解决了问题,下面记录一下&lt;/p&gt;
    
    </summary>
    
      <category term="小程序" scheme="https://tongfangyuan.github.io/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
      <category term="scroll-view" scheme="https://tongfangyuan.github.io/tags/scroll-view/"/>
    
  </entry>
  
  <entry>
    <title>关于WebSocket实践记录</title>
    <link href="https://tongfangyuan.github.io/2017/08/17/%E5%85%B3%E4%BA%8EWebSocket%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95/"/>
    <id>https://tongfangyuan.github.io/2017/08/17/关于WebSocket实践记录/</id>
    <published>2017-08-17T06:35:23.000Z</published>
    <updated>2018-06-07T13:08:01.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>由于公司有直播方面的业务,直播肯定需要弹幕功能,google了一番发现Websocket可以实现实时弹幕功能,然后在GitHub上发现了Facebook家的第三方框架SocketRocket,实现了弹幕功能.</p><a id="more"></a><h2 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h2><blockquote><p>WebSocket一种在单个 TCP 连接上进行全双工通讯的协议。WebSocket通信协议于2011年被IETF定为标准RFC 6455，并被RFC7936所补充规范。WebSocket API也被W3C定为标准。<br>WebSocket 使得客户端和服务器之间的数据交换变得更加简单，允许服务端主动向客户端推送数据。在 WebSocket API 中，浏览器和服务器只需要完成一次握手，两者之间就直接可以创建持久性的连接，并进行双向数据传输。</p></blockquote><p><a href="https://zh.wikipedia.org/wiki/WebSocket" target="_blank" rel="noopener">WebSocket 维基百科</a></p><h2 id="SocketRocket"><a href="#SocketRocket" class="headerlink" title="SocketRocket"></a>SocketRocket</h2><p>SocketRocket 是一个符合WebSocket协议的用于iOS, macOS, tvOS的第三方开发框架,能够增加我们开发效率.</p><h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><ul><li>同时支持IPv4/IPv6</li><li>支持SSL证书</li><li>似乎性能还不错</li><li>支持TLS (wss)</li><li>支持HTTP代理</li><li>异步工作,大部分操作都在一个后台线程完成的并且不会阻塞</li></ul><h3 id="集成"><a href="#集成" class="headerlink" title="集成"></a>集成</h3><p>CocoaPods集成<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pod</span> <span class="string">'SocketRocket'</span></span><br></pre></td></tr></table></figure></p><h2 id="SocketRocket-API"><a href="#SocketRocket-API" class="headerlink" title="SocketRocket API"></a>SocketRocket API</h2><h3 id="SocketRocket类"><a href="#SocketRocket类" class="headerlink" title="SocketRocket类"></a>SocketRocket类</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">SRWebSocket</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化方法</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithURLRequest:(<span class="built_in">NSURLRequest</span> *)request;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 代理需要在连接之前设置</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) <span class="keyword">id</span> &lt;SRWebSocketDelegate&gt; delegate;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始连接</span></span><br><span class="line">- (<span class="keyword">void</span>)open;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关闭连接</span></span><br><span class="line">- (<span class="keyword">void</span>)close;</span><br><span class="line">- (<span class="keyword">void</span>)closeWithCode:(<span class="built_in">NSInteger</span>)code reason:(<span class="built_in">NSString</span> *)reason;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送数据</span></span><br><span class="line">- (<span class="keyword">void</span>)send:(<span class="keyword">id</span>)data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><h3 id="SRWebSocketDelegate"><a href="#SRWebSocketDelegate" class="headerlink" title="SRWebSocketDelegate"></a>SRWebSocketDelegate</h3><p>项目中需要实现的方法<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@protocol</span> SRWebSocketDelegate &lt;NSObject&gt;</span><br><span class="line"></span><br><span class="line"><span class="variable">@optional</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 连接成功回调</span></span><br><span class="line">- (void)<span class="attribute">webSocketDidOpen</span>:(SRWebSocket *)webSocket;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收到消息</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webSocket</span><span class="selector-pseudo">:(SRWebSocket</span> *)<span class="selector-tag">webSocket</span> <span class="selector-tag">didReceiveMessageWithString</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">string</span>;</span><br><span class="line"><span class="comment">// 接收到二进制数据</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webSocket</span><span class="selector-pseudo">:(SRWebSocket</span> *)<span class="selector-tag">webSocket</span> <span class="selector-tag">didReceiveMessageWithData</span><span class="selector-pseudo">:(NSData</span> *)<span class="selector-tag">data</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 连接失败错误信息回调</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webSocket</span><span class="selector-pseudo">:(SRWebSocket</span> *)<span class="selector-tag">webSocket</span> <span class="selector-tag">didFailWithError</span><span class="selector-pseudo">:(NSError</span> *)<span class="selector-tag">error</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关闭连接以及错误码回调</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webSocket</span><span class="selector-pseudo">:(SRWebSocket</span> *)<span class="selector-tag">webSocket</span> <span class="selector-tag">didCloseWithCode</span><span class="selector-pseudo">:(NSInteger)code</span> <span class="selector-tag">reason</span><span class="selector-pseudo">:(nullable</span> <span class="selector-tag">NSString</span> *)<span class="selector-tag">reason</span> <span class="selector-tag">wasClean</span><span class="selector-pseudo">:(BOOL)wasClean</span>;</span><br><span class="line"></span><br><span class="line">@<span class="selector-tag">end</span></span><br></pre></td></tr></table></figure></p><h3 id="项目中的实践"><a href="#项目中的实践" class="headerlink" title="项目中的实践"></a>项目中的实践</h3><p>在连接成功之后发送用户信息(json字符串)给服务器(相当于登录)<br><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (void)webSocketDidOpen:(<span class="type">SRWebSocket</span> *)webSocket</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">NSLog</span>(@<span class="comment">"连接成功webSocketDidOpen:%@"</span>,webSocket);</span><br><span class="line">[<span class="keyword">self</span> outputString:[<span class="type">NSString</span> stringWithFormat:@<span class="comment">"连接成功webSocketDidOpen:%@"</span>,webSocket] type:<span class="number">1</span>];</span><br><span class="line">[<span class="keyword">self</span> outputString:[<span class="type">NSString</span> stringWithFormat:@<span class="comment">"连接地址:%@"</span>,webSocket.url.absoluteString] type:<span class="number">1</span>];</span><br><span class="line"><span class="keyword">self</span>.closeButton.enabled = <span class="type">YES</span>;</span><br><span class="line"></span><br><span class="line">// 连接上之后,发送登录信息</span><br><span class="line">//    &#123;<span class="comment">"type"</span>:<span class="comment">"login"</span>,<span class="comment">"uid"</span>:<span class="comment">"1"</span>,<span class="comment">"topic_id"</span>:<span class="comment">"bhy7zsa1f9"</span>&#125;</span><br><span class="line">[<span class="keyword">self</span>.socket send:@<span class="comment">"&#123;\"</span>type\<span class="comment">":\"</span>login\<span class="comment">",\"</span>uid\<span class="comment">":\"</span><span class="number">1</span>\<span class="comment">",\"</span>topic_id\<span class="comment">":\"</span>bhy7zsa1f9\<span class="comment">"&#125;"</span>];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>接收服务器发送的数据type为<code>ping</code>的数据客户端需要回复<code>pong</code>,来维持长连接,这个是和后台商量定下来的.</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)<span class="string">webSocket:</span>(SRWebSocket *)webSocket <span class="string">didReceiveMessage:</span>(id)message</span><br><span class="line">&#123;</span><br><span class="line">[self <span class="string">outputString:</span>message <span class="string">type:</span><span class="number">1</span>];</span><br><span class="line">NSLog(@<span class="string">"%@"</span>,message);</span><br><span class="line"></span><br><span class="line">NSError *jsonError;</span><br><span class="line">NSData *jsonData = [message <span class="string">dataUsingEncoding:</span>NSUTF8StringEncoding];</span><br><span class="line">NSDictionary *msgDict = [NSJSONSerialization <span class="string">JSONObjectWithData:</span>jsonData <span class="string">options:</span>NSJSONReadingMutableContainers <span class="string">error:</span>&amp;jsonError];</span><br><span class="line">NSString *type = msgDict[@<span class="string">"type"</span>];</span><br><span class="line"><span class="keyword">if</span> ([type <span class="string">isEqualToString:</span>@<span class="string">"ping"</span>]) &#123;</span><br><span class="line">[self.socket <span class="string">send:</span>@<span class="string">"&#123;\"type\":\"pong\"&#125;"</span>];</span><br><span class="line">[self <span class="string">outputString:</span>@<span class="string">"&#123;\"type\":\"pong\"&#125;"</span> <span class="string">type:</span><span class="number">2</span>] ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>发送数据给服务器,根据实际情况调用对应的方法即可,公司项目我和后台约定的是传json字符串所以调用的<code>sendString:error:</code>方法<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 发送数据</span></span><br><span class="line">- (<span class="keyword">void</span>)<span class="string">send:</span>(id)data;</span><br></pre></td></tr></table></figure></p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p><a href="https://github.com/TongFangyuan/WebSocketDemo" target="_blank" rel="noopener">WebSocketDemo</a></p><p><a href="https://github.com/facebook/SocketRocket" target="_blank" rel="noopener">SRWebSocket</a></p><p><a href="http://tongfy.top/blog/2017/08/17/guan-yu-websocketshi-jian-ji-lu/" target="_blank" rel="noopener">阅读原文</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;由于公司有直播方面的业务,直播肯定需要弹幕功能,google了一番发现Websocket可以实现实时弹幕功能,然后在GitHub上发现了Facebook家的第三方框架SocketRocket,实现了弹幕功能.&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://tongfangyuan.github.io/categories/iOS/"/>
    
    
      <category term="WebSocket" scheme="https://tongfangyuan.github.io/tags/WebSocket/"/>
    
  </entry>
  
  <entry>
    <title>iOS 开发笔记（一）</title>
    <link href="https://tongfangyuan.github.io/2017/03/25/iOS%20%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>https://tongfangyuan.github.io/2017/03/25/iOS 开发笔记（一）/</id>
    <published>2017-03-25T06:35:23.000Z</published>
    <updated>2018-06-26T13:00:14.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="计算字符串-size"><a href="#计算字符串-size" class="headerlink" title="计算字符串 size"></a>计算字符串 size</h3><p>在 iOS7 中下面计算字符串 size的方法都标注为 deprecated<br><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- <span class="params">(CGSize)</span>sizeWithFont:<span class="params">(UIFont *)</span>font</span><br><span class="line">constrainedToSize:<span class="params">(CGSize)</span>size</span><br><span class="line">lineBreakMode:<span class="params">(NSLineBreakMode)</span>lineBreakMode</span><br><span class="line"></span><br><span class="line">- <span class="params">(CGSize)</span>sizeWithFont:<span class="params">(UIFont *)</span>font;</span><br></pre></td></tr></table></figure></p><p>iOS7以后提供了新的计算方法</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CGRect textRect = [text <span class="string">boundingRectWithSize:</span>size</span><br><span class="line"><span class="string">options:</span>NSStringDrawingUsesLineFragmentOrigin</span><br><span class="line"><span class="string">attributes:</span>@&#123;<span class="string">NSFontAttributeName:</span>FONT&#125;</span><br><span class="line"><span class="string">context:</span>nil];</span><br><span class="line"></span><br><span class="line">CGSize size = textRect.size;</span><br></pre></td></tr></table></figure><p><a href="http://stackoverflow.com/questions/18903304/replacement-for-deprecated-sizewithfontconstrainedtosizelinebreakmode-in-ios" target="_blank" rel="noopener">参考链接</a></p><h3 id="当在-h文件用readonly修饰的时候-调用属性的setter方法会报错"><a href="#当在-h文件用readonly修饰的时候-调用属性的setter方法会报错" class="headerlink" title="当在.h文件用readonly修饰的时候,调用属性的setter方法会报错"></a>当在<code>.h</code>文件用<code>readonly</code>修饰的时候,调用属性的<code>setter</code>方法会报错</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span>* eventDomain;</span><br></pre></td></tr></table></figure><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 编译器会报错</span></span><br><span class="line">[<span class="meta">self setEventDomain:@<span class="meta-string">"someString"</span></span>];</span><br></pre></td></tr></table></figure><p>在<code>class extension</code>中重新声明,告诉比编译器你需要<code>setter</code>方法:<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@interface</span> YourClass ()</span><br><span class="line"></span><br><span class="line"><span class="variable">@property</span> (nonatomic, copy) NSString* eventDomain;</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure></p><p><a href="http://stackoverflow.com/questions/4586516/readonly-properties-in-objective-c" target="_blank" rel="noopener">参考链接</a></p><h3 id="微博中的‘-用户名’和‘-话题-’这个正则表达式怎么写"><a href="#微博中的‘-用户名’和‘-话题-’这个正则表达式怎么写" class="headerlink" title="微博中的‘@用户名’和‘#话题#’这个正则表达式怎么写"></a>微博中的‘@用户名’和‘#话题#’这个正则表达式怎么写</h3><h4 id="匹配-用户名"><a href="#匹配-用户名" class="headerlink" title="匹配 @用户名"></a>匹配 @用户名</h4><p>首先分析下微博中从哪里开始到哪里结束才是一个完整的用户名，按照常规的表现形式，一般是以@开头，以：结尾，中间为用户的名称。 匹配表达式就可写为： <code>@[^：:]+</code>  这是简单的写法，但是有些是在微博之后再@的，还有就是连续@的情况，还有些是以逗号等结束的，因此完善一下   修改为：   <code>@[^,，：:\s@]+</code>  但是这些匹配都是从形式上进行了一个大概的归类，但是为了更为严谨，就要彻底分析其用户名的具体格式，例如新浪微博中的用户名格式为是“4-30个字符，支持英文、数字、”<em>“或减号”   ，也就是说，支持中文、字母、数字、下划线及减号，并且是4到30个字符（这里暂且认为汉字为一个字符）那么在写匹配的表达式的时候就可以这么来写:<br>`@[\u4e00-\u9fa5a-zA-Z0-9</em>-]{4,30}`</p><h4 id="匹配-话题"><a href="#匹配-话题" class="headerlink" title="匹配 #话题"></a>匹配 #话题</h4><p>这个相对相对就简单了很多，前后都是#，以#号开始并以#结束   匹配表达式写为： <code>#[^#]+#</code></p><p><a href="https://www.zhihu.com/question/19816153" target="_blank" rel="noopener">参考链接</a></p><h4 id="YYKit-中匹配-用户名-和-话题"><a href="#YYKit-中匹配-用户名-和-话题" class="headerlink" title="YYKit 中匹配 @用户名 和 话题"></a>YYKit 中匹配 <code>@用户名</code> 和 <code>话题</code></h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">NSRegularExpression</span> *)regexAt &#123;</span><br><span class="line"><span class="keyword">static</span> <span class="built_in">NSRegularExpression</span> *regex;</span><br><span class="line"><span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</span><br><span class="line"><span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</span><br><span class="line"><span class="comment">// 微博的 At 只允许 英文数字下划线连字符，和 unicode 4E00~9FA5 范围内的中文字符，这里保持和微博一致。。</span></span><br><span class="line"><span class="comment">// 目前中文字符范围比这个大</span></span><br><span class="line">regex = [<span class="built_in">NSRegularExpression</span> regularExpressionWithPattern:<span class="string">@"@[-_a-zA-Z0-9\u4E00-\u9FA5]+"</span> options:kNilOptions error:<span class="literal">NULL</span>];</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> regex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">NSRegularExpression</span> *)regexTopic &#123;</span><br><span class="line"><span class="keyword">static</span> <span class="built_in">NSRegularExpression</span> *regex;</span><br><span class="line"><span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</span><br><span class="line"><span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</span><br><span class="line">regex = [<span class="built_in">NSRegularExpression</span> regularExpressionWithPattern:<span class="string">@"#[^@#]+?#"</span> options:kNilOptions error:<span class="literal">NULL</span>];</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> regex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/ibireme/YYKit" target="_blank" rel="noopener">参考链接</a></p><h3 id="iOS7中-controller-的-view上移64问题"><a href="#iOS7中-controller-的-view上移64问题" class="headerlink" title="iOS7中 controller 的 view上移64问题"></a>iOS7中 <code>controller</code> 的 <code>view</code>上移<code>64</code>问题</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在 controller 中调用</span></span><br><span class="line"><span class="keyword">self</span>.edgesForExtendedLayout = <span class="built_in">UIRectEdgeNone</span>;</span><br></pre></td></tr></table></figure><h3 id="iOS7-以上修改-navigation-bar背景色"><a href="#iOS7-以上修改-navigation-bar背景色" class="headerlink" title="iOS7 以上修改 navigation bar背景色"></a><code>iOS7</code> 以上修改 <code>navigation bar</code>背景色</h3><p>改变某一个 navigation controller(iOS7以上有效)<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tips : 在 viewDidLoad 方法中条用</span></span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.barTintColor = [<span class="built_in">UIColor</span> customColor];</span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.translucent = <span class="literal">NO</span>;</span><br></pre></td></tr></table></figure></p><p>更改整个 app 中的 navigation bar(iOS7以上有效)<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在 appdelegate 中调用</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line"><span class="comment">// Override point for customization after application launch.</span></span><br><span class="line">[[<span class="built_in">UINavigationBar</span> appearance] setBarTintColor:[<span class="built_in">UIColor</span> whiteColor]];</span><br><span class="line">[[<span class="built_in">UINavigationBar</span> appearance] setTranslucent:<span class="literal">NO</span>];</span><br><span class="line"><span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><a href="http://stackoverflow.com/questions/18929864/how-to-change-navigation-bar-color-in-ios-7" target="_blank" rel="noopener">参考链接:How to change Navigation Bar color in iOS 7?</a></p><h3 id="iOS获取当前版本号"><a href="#iOS获取当前版本号" class="headerlink" title="iOS获取当前版本号"></a>iOS获取当前版本号</h3><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//当前版本号,对应bundle,一般为数字:<span class="number">123</span></span><br><span class="line">[[[<span class="symbol">NSBundle</span> mainBundle] infoDictionary] objectForKey:(<span class="symbol">NSString</span>*)kCFBundleVersionKey];</span><br><span class="line">//版本号,对应version,一般为字符串:<span class="number">1.0</span><span class="number">.2</span></span><br><span class="line">[[[<span class="symbol">NSBundle</span> mainBundle] infoDictionary] objectForKey:@<span class="string">"CFBundleShortVersionString"</span>];</span><br></pre></td></tr></table></figure><h3 id="自定义-UIBarButtonItem"><a href="#自定义-UIBarButtonItem" class="headerlink" title="自定义 UIBarButtonItem"></a>自定义 UIBarButtonItem</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 导航栏左边的按钮</span></span><br><span class="line"><span class="keyword">self</span>.leftButton = [PPQButton ppq_buttonWithType:PPQButtonNavBarBackImageWhite];</span><br><span class="line">[<span class="keyword">self</span>.leftButton addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(leftBtnClicked) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line"><span class="keyword">self</span>.navigationItem.leftBarButtonItem = [[<span class="built_in">UIBarButtonItem</span> alloc] initWithCustomView:<span class="keyword">self</span>.leftButton];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导航栏 title view</span></span><br><span class="line"><span class="keyword">self</span>.titleView = [[<span class="built_in">UILabel</span> alloc] init];</span><br><span class="line"><span class="keyword">self</span>.titleView.text = <span class="keyword">self</span>.title;</span><br><span class="line"><span class="keyword">self</span>.titleView.font = [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">16</span>];</span><br><span class="line">[<span class="keyword">self</span>.titleView sizeToFit];</span><br><span class="line"><span class="keyword">self</span>.navigationItem.titleView = <span class="keyword">self</span>.titleView;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导航栏右侧</span></span><br><span class="line"><span class="keyword">self</span>.rightButton = [PPQButton ppq_buttonWithType:PPQButtonNavBarRightImageWhite];</span><br><span class="line">[<span class="keyword">self</span>.rightButton addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(rightButtonClicked) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line"><span class="keyword">self</span>.navigationItem.rightBarButtonItem = [[<span class="built_in">UIBarButtonItem</span> alloc] initWithCustomView:<span class="keyword">self</span>.rightButton];</span><br></pre></td></tr></table></figure><h3 id="隐藏掉-底部的黑线"><a href="#隐藏掉-底部的黑线" class="headerlink" title="隐藏掉 底部的黑线"></a>隐藏掉 底部的黑线</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[self.navigationController.navigationBar setShadowImage:<span class="string">[[UIImage alloc] init]]</span>;</span><br></pre></td></tr></table></figure><h3 id="讲导航栏背景透明"><a href="#讲导航栏背景透明" class="headerlink" title="讲导航栏背景透明"></a>讲导航栏背景透明</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">self.navigationController.navigationBar</span> setBackgroundImage:[[<span class="name">UIImage</span> alloc] init] forBarMetrics:UIBarMetricsDefault]<span class="comment">;</span></span><br></pre></td></tr></table></figure><h3 id="窝草-怎么导航栏没变透明-黑人问号"><a href="#窝草-怎么导航栏没变透明-黑人问号" class="headerlink" title="窝草,怎么导航栏没变透明??黑人问号"></a>窝草,怎么导航栏没变透明??黑人问号</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.translucent = <span class="literal">YES</span>;<span class="comment">// 让导航栏具有穿透效果</span></span><br><span class="line">[<span class="keyword">self</span>.navigationController.navigationBar setBackgroundImage:[[<span class="built_in">UIImage</span> alloc] init] forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];<span class="comment">// 这样导航栏就变透明了</span></span><br></pre></td></tr></table></figure><h3 id="如何判断颜色相等"><a href="#如何判断颜色相等" class="headerlink" title="如何判断颜色相等?"></a>如何判断颜色相等?</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//其他类型对象也可以判断哦</span></span><br><span class="line">[<span class="meta">myColor isEqual:someOtherColor</span>]</span><br></pre></td></tr></table></figure><h3 id="新浪微博个人实现"><a href="#新浪微博个人实现" class="headerlink" title="新浪微博个人实现"></a>新浪微博个人实现</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//手势传递问题</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)gestureRecognizer:(<span class="built_in">UIGestureRecognizer</span> *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(<span class="built_in">UIGestureRecognizer</span> *)otherGestureRecognizer &#123;</span><br><span class="line"><span class="keyword">return</span> [gestureRecognizer isKindOfClass:[<span class="built_in">UIPanGestureRecognizer</span> <span class="keyword">class</span>]] &amp;&amp; [otherGestureRecognizer isKindOfClass:[<span class="built_in">UIPanGestureRecognizer</span> <span class="keyword">class</span>]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="根据url获取图片的相关信息"><a href="#根据url获取图片的相关信息" class="headerlink" title="根据url获取图片的相关信息"></a>根据url获取图片的相关信息</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;ImageIO/ImageIO.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NSMutableString</span> *imageURL = [<span class="built_in">NSMutableString</span> stringWithFormat:<span class="string">@"http://www.myimageurl.com/image.png"</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">CGImageSourceRef</span> source = <span class="built_in">CGImageSourceCreateWithURL</span>((<span class="built_in">CFURLRef</span>)[<span class="built_in">NSURL</span> URLWithString:imageURL], <span class="literal">NULL</span>);</span><br><span class="line"><span class="built_in">NSDictionary</span>* imageHeader = (__bridge <span class="built_in">NSDictionary</span>*) <span class="built_in">CGImageSourceCopyPropertiesAtIndex</span>(source, <span class="number">0</span>, <span class="literal">NULL</span>);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Image header %@"</span>,imageHeader);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"PixelHeight %@"</span>,[imageHeader objectForKey:<span class="string">@"PixelHeight"</span>]);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;计算字符串-size&quot;&gt;&lt;a href=&quot;#计算字符串-size&quot; class=&quot;headerlink&quot; title=&quot;计算字符串 size&quot;&gt;&lt;/a&gt;计算字符串 size&lt;/h3&gt;&lt;p&gt;在 iOS7 中下面计算字符串 size的方法都标注为 deprecated
      
    
    </summary>
    
      <category term="iOS" scheme="https://tongfangyuan.github.io/categories/iOS/"/>
    
    
      <category term="笔记" scheme="https://tongfangyuan.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>模板文件</title>
    <link href="https://tongfangyuan.github.io/2016/07/03/%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6/"/>
    <id>https://tongfangyuan.github.io/2016/07/03/模板文件/</id>
    <published>2016-07-03T02:54:35.000Z</published>
    <updated>2018-07-07T03:28:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>这是一个模板文件</p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是一个模板文件&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://tongfangyuan.github.io/categories/iOS/"/>
    
    
      <category term="模板" scheme="https://tongfangyuan.github.io/tags/%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>README</title>
    <link href="https://tongfangyuan.github.io/2014/06/07/README/"/>
    <id>https://tongfangyuan.github.io/2014/06/07/README/</id>
    <published>2014-06-07T06:35:23.000Z</published>
    <updated>2018-06-07T13:10:47.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Blog"><a href="#Blog" class="headerlink" title="Blog"></a>Blog</h1><h4 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h4><p>{<strong>以下是码云平台说明，您可以替换为您的项目简介</strong><br>码云是开源中国推出的基于 Git 的代码托管平台（同时支持 SVN）。专为开发者提供稳定、高效、安全的云端软件开发协作平台<br>无论是个人、团队、或是企业，都能够用码云实现代码托管、项目管理、协作开发。企业项目请看 <a href="https://gitee.com/enterprises" target="_blank" rel="noopener">https://gitee.com/enterprises</a>}</p><h4 id="软件架构"><a href="#软件架构" class="headerlink" title="软件架构"></a>软件架构</h4><p>软件架构说明</p><h4 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a>安装教程</h4><ol><li>xxxx</li><li>xxxx</li><li>xxxx</li></ol><h4 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h4><ol><li>xxxx</li><li>xxxx</li><li>xxxx</li></ol><h4 id="参与贡献"><a href="#参与贡献" class="headerlink" title="参与贡献"></a>参与贡献</h4><ol><li>Fork 本项目</li><li>新建 Feat_xxx 分支</li><li>提交代码</li><li>新建 Pull Request</li></ol><h4 id="码云特技"><a href="#码云特技" class="headerlink" title="码云特技"></a>码云特技</h4><ol><li>使用 Readme_XXX.md 来支持不同的语言，例如 Readme_en.md, Readme_zh.md</li><li>码云官方博客 <a href="https://blog.gitee.com" target="_blank" rel="noopener">blog.gitee.com</a></li><li>你可以 <a href="https://gitee.com/explore" target="_blank" rel="noopener">https://gitee.com/explore</a> 这个地址来了解码云上的优秀开源项目</li><li><a href="https://gitee.com/gvp" target="_blank" rel="noopener">GVP</a> 全称是码云最有价值开源项目，是码云综合评定出的优秀开源项目</li><li>码云官方提供的使用手册 <a href="http://git.mydoc.io/" target="_blank" rel="noopener">http://git.mydoc.io/</a></li><li>码云封面人物是一档用来展示码云会员风采的栏目 <a href="https://gitee.com/gitee-stars/" target="_blank" rel="noopener">https://gitee.com/gitee-stars/</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Blog&quot;&gt;&lt;a href=&quot;#Blog&quot; class=&quot;headerlink&quot; title=&quot;Blog&quot;&gt;&lt;/a&gt;Blog&lt;/h1&gt;&lt;h4 id=&quot;项目介绍&quot;&gt;&lt;a href=&quot;#项目介绍&quot; class=&quot;headerlink&quot; title=&quot;项目介绍&quot;&gt;&lt;/a
      
    
    </summary>
    
      <category term="README" scheme="https://tongfangyuan.github.io/categories/README/"/>
    
    
      <category term="README" scheme="https://tongfangyuan.github.io/tags/README/"/>
    
  </entry>
  
</feed>
